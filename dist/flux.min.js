(()=>{var Je=class extends Event{oldState;newState;constructor(t,{oldState:e="",newState:i="",...s}={}){super(t,s),this.oldState=String(e||""),this.newState=String(i||"")}},Si=new WeakMap;function Ti(t,e,i){Si.set(t,setTimeout(()=>{Si.has(t)&&t.dispatchEvent(new Je("toggle",{cancelable:!1,oldState:e,newState:i}))},0))}var kt=globalThis.ShadowRoot||function(){},Es=globalThis.HTMLDialogElement||function(){},Xe=new WeakMap,K=new WeakMap,Me=new WeakMap;function Ue(t){return Me.get(t)||"hidden"}var Ke=new WeakMap;function Cs(t){let e=t.popoverTargetElement;if(!(e instanceof HTMLElement))return;let i=Ue(e);t.popoverTargetAction==="show"&&i==="showing"||t.popoverTargetAction==="hide"&&i==="hidden"||(i==="showing"?Le(e,!0,!0):ue(e,!1)&&(Ke.set(e,t),St(e)))}function ue(t,e){return!(t.popover!=="auto"&&t.popover!=="manual"||!t.isConnected||e&&Ue(t)!=="showing"||!e&&Ue(t)!=="hidden"||t instanceof Es&&t.hasAttribute("open")||document.fullscreenElement===t)}function ki(t){return t?Array.from(K.get(t.ownerDocument)||[]).indexOf(t)+1:0}function Ps(t){let e=Oi(t),i=Ts(t);return ki(e)>ki(i)?e:i}function Qe(t){let e=K.get(t);for(let i of e||[])if(!i.isConnected)e.delete(i);else return i;return null}function ye(t){return typeof t.getRootNode=="function"?t.getRootNode():t.parentNode?ye(t.parentNode):t}function Oi(t){for(;t;){if(t instanceof HTMLElement&&t.popover==="auto"&&Me.get(t)==="showing")return t;if(t=t instanceof Element&&t.assignedSlot||t.parentElement||ye(t),t instanceof kt&&(t=t.host),t instanceof Document)return}}function Ts(t){for(;t;){let e=t.popoverTargetElement;if(e instanceof HTMLElement)return e;if(t=t.parentElement||ye(t),t instanceof kt&&(t=t.host),t instanceof Document)return}}function Os(t){let e=new Map,i=0;for(let n of K.get(t.ownerDocument)||[])e.set(n,i),i+=1;e.set(t,i),i+=1;let s=null;function o(n){let r=Oi(n);if(r===null)return null;let a=e.get(r);(s===null||e.get(s)<a)&&(s=r)}return o(t.parentElement||ye(t)),s}function Ls(t){return t.hidden||t instanceof kt||(t instanceof HTMLButtonElement||t instanceof HTMLInputElement||t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement||t instanceof HTMLOptGroupElement||t instanceof HTMLOptionElement||t instanceof HTMLFieldSetElement)&&t.disabled||t instanceof HTMLInputElement&&t.type==="hidden"||t instanceof HTMLAnchorElement&&t.href===""?!1:typeof t.tabIndex=="number"&&t.tabIndex!==-1}function Ms(t){if(t.shadowRoot&&t.shadowRoot.delegatesFocus!==!0)return null;let e=t;e.shadowRoot&&(e=e.shadowRoot);let i=e.querySelector("[autofocus]");if(i)return i;{let n=e.querySelectorAll("slot");for(let r of n){let a=r.assignedElements({flatten:!0});for(let l of a){if(l.hasAttribute("autofocus"))return l;if(i=l.querySelector("[autofocus]"),i)return i}}}let s=t.ownerDocument.createTreeWalker(e,NodeFilter.SHOW_ELEMENT),o=s.currentNode;for(;o;){if(Ls(o))return o;o=s.nextNode()}}function Ds(t){Ms(t)?.focus()}var Ze=new WeakMap;function St(t){if(!ue(t,!1))return;let e=t.ownerDocument;if(!t.dispatchEvent(new Je("beforetoggle",{cancelable:!0,oldState:"closed",newState:"open"}))||!ue(t,!1))return;let i=!1;if(t.popover==="auto"){let o=t.getAttribute("popover"),n=Os(t)||e;if(et(n,!1,!0),o!==t.getAttribute("popover")||!ue(t,!1))return}Qe(e)||(i=!0),Ze.delete(t);let s=e.activeElement;t.classList.add(":popover-open"),Me.set(t,"showing"),Xe.has(e)||Xe.set(e,new Set),Xe.get(e).add(t),Ds(t),t.popover==="auto"&&(K.has(e)||K.set(e,new Set),K.get(e).add(t),Li(Ke.get(t),!0)),i&&s&&t.popover==="auto"&&Ze.set(t,s),Ti(t,"closed","open")}function Le(t,e=!1,i=!1){if(!ue(t,!0))return;let s=t.ownerDocument;if(t.popover==="auto"&&(et(t,e,i),!ue(t,!0))||(Li(Ke.get(t),!1),Ke.delete(t),i&&(t.dispatchEvent(new Je("beforetoggle",{oldState:"open",newState:"closed"})),!ue(t,!0))))return;Xe.get(s)?.delete(t),K.get(s)?.delete(t),t.classList.remove(":popover-open"),Me.set(t,"hidden"),i&&Ti(t,"open","closed");let o=Ze.get(t);o&&(Ze.delete(t),e&&o.focus())}function Ei(t,e=!1,i=!1){let s=Qe(t);for(;s;)Le(s,e,i),s=Qe(t)}function et(t,e,i){let s=t.ownerDocument||t;if(t instanceof Document)return Ei(s,e,i);let o=null,n=!1;for(let r of K.get(s)||[])if(r===t)n=!0;else if(n){o=r;break}if(!n)return Ei(s,e,i);for(;o&&Ue(o)==="showing"&&K.get(s)?.size;)Le(o,e,i)}var At=new WeakMap;function Ci(t){if(!t.isTrusted)return;let e=t.composedPath()[0];if(!e)return;let i=e.ownerDocument;if(!Qe(i))return;let o=Ps(e);if(o&&t.type==="pointerdown")At.set(i,o);else if(t.type==="pointerup"){let n=At.get(i)===o;At.delete(i),n&&et(o||i,!1,!0)}}var xt=new WeakMap;function Li(t,e=!1){if(!t)return;xt.has(t)||xt.set(t,t.getAttribute("aria-expanded"));let i=t.popoverTargetElement;if(i instanceof HTMLElement&&i.popover==="auto")t.setAttribute("aria-expanded",String(e));else{let s=xt.get(t);s?t.setAttribute("aria-expanded",s):t.removeAttribute("aria-expanded")}}var Pi=globalThis.ShadowRoot||function(){};function Rs(){return typeof HTMLElement<"u"&&typeof HTMLElement.prototype=="object"&&"popover"in HTMLElement.prototype}function ce(t,e,i){let s=t[e];Object.defineProperty(t,e,{value(o){return s.call(this,i(o))}})}var Fs=/(^|[^\\]):popover-open\b/g;function Is(){return typeof globalThis.CSSLayerBlockRule=="function"}function Ns(){let t=Is();return`
${t?"@layer popover-polyfill {":""}
  :where([popover]) {
    position: fixed;
    z-index: 2147483647;
    inset: 0;
    padding: 0.25em;
    width: fit-content;
    height: fit-content;
    border-width: initial;
    border-color: initial;
    border-image: initial;
    border-style: solid;
    background-color: canvas;
    color: canvastext;
    overflow: auto;
    margin: auto;
  }

  :where([popover]:not(.\\:popover-open)) {
    display: none;
  }

  :where(dialog[popover].\\:popover-open) {
    display: block;
  }

  :where(dialog[popover][open]) {
    display: revert;
  }

  :where([anchor].\\:popover-open) {
    inset: auto;
  }

  :where([anchor]:popover-open) {
    inset: auto;
  }

  @supports not (background-color: canvas) {
    :where([popover]) {
      background-color: white;
      color: black;
    }
  }

  @supports (width: -moz-fit-content) {
    :where([popover]) {
      width: -moz-fit-content;
      height: -moz-fit-content;
    }
  }

  @supports not (inset: 0) {
    :where([popover]) {
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }
  }
${t?"}":""}
`}var we=null;function _t(t){let e=Ns();if(we===null)try{we=new CSSStyleSheet,we.replaceSync(e)}catch{we=!1}if(we===!1){let i=document.createElement("style");i.textContent=e,t instanceof Document?t.head.prepend(i):t.prepend(i)}else t.adoptedStyleSheets=[we,...t.adoptedStyleSheets]}function Hs(){if(typeof window>"u")return;window.ToggleEvent=window.ToggleEvent||Je;function t(l){return l?.includes(":popover-open")&&(l=l.replace(Fs,"$1.\\:popover-open")),l}ce(Document.prototype,"querySelector",t),ce(Document.prototype,"querySelectorAll",t),ce(Element.prototype,"querySelector",t),ce(Element.prototype,"querySelectorAll",t),ce(Element.prototype,"matches",t),ce(Element.prototype,"closest",t),ce(DocumentFragment.prototype,"querySelectorAll",t),Object.defineProperties(HTMLElement.prototype,{popover:{enumerable:!0,configurable:!0,get(){if(!this.hasAttribute("popover"))return null;let l=(this.getAttribute("popover")||"").toLowerCase();return l===""||l=="auto"?"auto":"manual"},set(l){this.setAttribute("popover",l)}},showPopover:{enumerable:!0,configurable:!0,value(){St(this)}},hidePopover:{enumerable:!0,configurable:!0,value(){Le(this,!0,!0)}},togglePopover:{enumerable:!0,configurable:!0,value(l){Me.get(this)==="showing"&&l===void 0||l===!1?Le(this,!0,!0):(l===void 0||l===!0)&&St(this)}}});let e=Element.prototype.attachShadow;e&&Object.defineProperties(Element.prototype,{attachShadow:{enumerable:!0,configurable:!0,writable:!0,value(l){let c=e.call(this,l);return _t(c),c}}});let i=HTMLElement.prototype.attachInternals;i&&Object.defineProperties(HTMLElement.prototype,{attachInternals:{enumerable:!0,configurable:!0,writable:!0,value(){let l=i.call(this);return l.shadowRoot&&_t(l.shadowRoot),l}}});let s=new WeakMap;function o(l){Object.defineProperties(l.prototype,{popoverTargetElement:{enumerable:!0,configurable:!0,set(c){if(c===null)this.removeAttribute("popovertarget"),s.delete(this);else if(c instanceof Element)this.setAttribute("popovertarget",""),s.set(this,c);else throw new TypeError("popoverTargetElement must be an element or null")},get(){if(this.localName!=="button"&&this.localName!=="input"||this.localName==="input"&&this.type!=="reset"&&this.type!=="image"&&this.type!=="button"||this.disabled||this.form&&this.type==="submit")return null;let c=s.get(this);if(c&&c.isConnected)return c;if(c&&!c.isConnected)return s.delete(this),null;let d=ye(this),f=this.getAttribute("popovertarget");return(d instanceof Document||d instanceof Pi)&&f&&d.getElementById(f)||null}},popoverTargetAction:{enumerable:!0,configurable:!0,get(){let c=(this.getAttribute("popovertargetaction")||"").toLowerCase();return c==="show"||c==="hide"?c:"toggle"},set(c){this.setAttribute("popovertargetaction",c)}}})}o(HTMLButtonElement),o(HTMLInputElement);let n=l=>{let c=l.composedPath(),d=c[0];if(!(d instanceof Element)||d?.shadowRoot)return;let f=ye(d);if(!(f instanceof Pi||f instanceof Document))return;let h=c.find(p=>p.matches?.("[popovertargetaction],[popovertarget]"));if(h){Cs(h),l.preventDefault();return}},r=l=>{let c=l.key,d=l.target;!l.defaultPrevented&&d&&(c==="Escape"||c==="Esc")&&et(d.ownerDocument,!0,!0)};(l=>{l.addEventListener("click",n),l.addEventListener("keydown",r),l.addEventListener("pointerdown",Ci),l.addEventListener("pointerup",Ci)})(document),_t(document)}Rs()||Hs();var rt=class extends Event{oldState;newState;constructor(t,{oldState:e="",newState:i="",...s}={}){super(t,s),this.oldState=String(e||""),this.newState=String(i||"")}},Mi=new WeakMap;function Ni(t,e,i){Mi.set(t,setTimeout(()=>{Mi.has(t)&&t.dispatchEvent(new rt("toggle",{cancelable:!1,oldState:e,newState:i}))},0))}var Ot=globalThis.ShadowRoot||function(){},Ws=globalThis.HTMLDialogElement||function(){},tt=new WeakMap,Q=new WeakMap,Re=new WeakMap;function it(t){return Re.get(t)||"hidden"}var st=new WeakMap;function qs(t){let e=t.popoverTargetElement;if(!(e instanceof HTMLElement))return;let i=it(e);t.popoverTargetAction==="show"&&i==="showing"||t.popoverTargetAction==="hide"&&i==="hidden"||(i==="showing"?De(e,!0,!0):de(e,!1)&&(st.set(e,t),Tt(e)))}function de(t,e){return!(t.popover!=="auto"&&t.popover!=="manual"||!t.isConnected||e&&it(t)!=="showing"||!e&&it(t)!=="hidden"||t instanceof Ws&&t.hasAttribute("open")||document.fullscreenElement===t)}function Di(t){return t?Array.from(Q.get(t.ownerDocument)||[]).indexOf(t)+1:0}function Bs(t){let e=Hi(t),i=Vs(t);return Di(e)>Di(i)?e:i}function ot(t){let e=Q.get(t);for(let i of e||[])if(!i.isConnected)e.delete(i);else return i;return null}function xe(t){return typeof t.getRootNode=="function"?t.getRootNode():t.parentNode?xe(t.parentNode):t}function Hi(t){for(;t;){if(t instanceof HTMLElement&&t.popover==="auto"&&Re.get(t)==="showing")return t;if(t=t instanceof Element&&t.assignedSlot||t.parentElement||xe(t),t instanceof Ot&&(t=t.host),t instanceof Document)return}}function Vs(t){for(;t;){let e=t.popoverTargetElement;if(e instanceof HTMLElement)return e;if(t=t.parentElement||xe(t),t instanceof Ot&&(t=t.host),t instanceof Document)return}}function zs(t){let e=new Map,i=0;for(let n of Q.get(t.ownerDocument)||[])e.set(n,i),i+=1;e.set(t,i),i+=1;let s=null;function o(n){let r=Hi(n);if(r===null)return null;let a=e.get(r);(s===null||e.get(s)<a)&&(s=r)}return o(t.parentElement||xe(t)),s}function $s(t){return t.hidden||t instanceof Ot||(t instanceof HTMLButtonElement||t instanceof HTMLInputElement||t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement||t instanceof HTMLOptGroupElement||t instanceof HTMLOptionElement||t instanceof HTMLFieldSetElement)&&t.disabled||t instanceof HTMLInputElement&&t.type==="hidden"||t instanceof HTMLAnchorElement&&t.href===""?!1:typeof t.tabIndex=="number"&&t.tabIndex!==-1}function js(t){if(t.shadowRoot&&t.shadowRoot.delegatesFocus!==!0)return null;let e=t;e.shadowRoot&&(e=e.shadowRoot);let i=e.querySelector("[autofocus]");if(i)return i;{let n=e.querySelectorAll("slot");for(let r of n){let a=r.assignedElements({flatten:!0});for(let l of a){if(l.hasAttribute("autofocus"))return l;if(i=l.querySelector("[autofocus]"),i)return i}}}let s=t.ownerDocument.createTreeWalker(e,NodeFilter.SHOW_ELEMENT),o=s.currentNode;for(;o;){if($s(o))return o;o=s.nextNode()}}function Ys(t){js(t)?.focus()}var nt=new WeakMap;function Tt(t){if(!de(t,!1))return;let e=t.ownerDocument;if(!t.dispatchEvent(new rt("beforetoggle",{cancelable:!0,oldState:"closed",newState:"open"}))||!de(t,!1))return;let i=!1;if(t.popover==="auto"){let o=t.getAttribute("popover"),n=zs(t)||e;if(lt(n,!1,!0),o!==t.getAttribute("popover")||!de(t,!1))return}ot(e)||(i=!0),nt.delete(t);let s=e.activeElement;t.classList.add(":popover-open"),Re.set(t,"showing"),tt.has(e)||tt.set(e,new Set),tt.get(e).add(t),Ys(t),t.popover==="auto"&&(Q.has(e)||Q.set(e,new Set),Q.get(e).add(t),Wi(st.get(t),!0)),i&&s&&t.popover==="auto"&&nt.set(t,s),Ni(t,"closed","open")}function De(t,e=!1,i=!1){if(!de(t,!0))return;let s=t.ownerDocument;if(t.popover==="auto"&&(lt(t,e,i),!de(t,!0))||(Wi(st.get(t),!1),st.delete(t),i&&(t.dispatchEvent(new rt("beforetoggle",{oldState:"open",newState:"closed"})),!de(t,!0))))return;tt.get(s)?.delete(t),Q.get(s)?.delete(t),t.classList.remove(":popover-open"),Re.set(t,"hidden"),i&&Ni(t,"open","closed");let o=nt.get(t);o&&(nt.delete(t),e&&o.focus())}function Ri(t,e=!1,i=!1){let s=ot(t);for(;s;)De(s,e,i),s=ot(t)}function lt(t,e,i){let s=t.ownerDocument||t;if(t instanceof Document)return Ri(s,e,i);let o=null,n=!1;for(let r of Q.get(s)||[])if(r===t)n=!0;else if(n){o=r;break}if(!n)return Ri(s,e,i);for(;o&&it(o)==="showing"&&Q.get(s)?.size;)De(o,e,i)}var Et=new WeakMap;function Fi(t){if(!t.isTrusted)return;let e=t.composedPath()[0];if(!e)return;let i=e.ownerDocument;if(!ot(i))return;let o=Bs(e);if(o&&t.type==="pointerdown")Et.set(i,o);else if(t.type==="pointerup"){let n=Et.get(i)===o;Et.delete(i),n&&lt(o||i,!1,!0)}}var Ct=new WeakMap;function Wi(t,e=!1){if(!t)return;Ct.has(t)||Ct.set(t,t.getAttribute("aria-expanded"));let i=t.popoverTargetElement;if(i instanceof HTMLElement&&i.popover==="auto")t.setAttribute("aria-expanded",String(e));else{let s=Ct.get(t);s?t.setAttribute("aria-expanded",s):t.removeAttribute("aria-expanded")}}var Ii=globalThis.ShadowRoot||function(){};function qi(){return typeof HTMLElement<"u"&&typeof HTMLElement.prototype=="object"&&"popover"in HTMLElement.prototype}function Bi(){return!!(document.body?.showPopover&&!/native code/i.test(document.body.showPopover.toString()))}function he(t,e,i){let s=t[e];Object.defineProperty(t,e,{value(o){return s.call(this,i(o))}})}var Gs=/(^|[^\\]):popover-open\b/g;function Xs(){return typeof globalThis.CSSLayerBlockRule=="function"}function Us(){let t=Xs();return`
${t?"@layer popover-polyfill {":""}
  :where([popover]) {
    position: fixed;
    z-index: 2147483647;
    inset: 0;
    padding: 0.25em;
    width: fit-content;
    height: fit-content;
    border-width: initial;
    border-color: initial;
    border-image: initial;
    border-style: solid;
    background-color: canvas;
    color: canvastext;
    overflow: auto;
    margin: auto;
  }

  :where([popover]:not(.\\:popover-open)) {
    display: none;
  }

  :where(dialog[popover].\\:popover-open) {
    display: block;
  }

  :where(dialog[popover][open]) {
    display: revert;
  }

  :where([anchor].\\:popover-open) {
    inset: auto;
  }

  :where([anchor]:popover-open) {
    inset: auto;
  }

  @supports not (background-color: canvas) {
    :where([popover]) {
      background-color: white;
      color: black;
    }
  }

  @supports (width: -moz-fit-content) {
    :where([popover]) {
      width: -moz-fit-content;
      height: -moz-fit-content;
    }
  }

  @supports not (inset: 0) {
    :where([popover]) {
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }
  }
${t?"}":""}
`}var Ae=null;function Pt(t){let e=Us();if(Ae===null)try{Ae=new CSSStyleSheet,Ae.replaceSync(e)}catch{Ae=!1}if(Ae===!1){let i=document.createElement("style");i.textContent=e,t instanceof Document?t.head.prepend(i):t.prepend(i)}else t.adoptedStyleSheets=[Ae,...t.adoptedStyleSheets]}function Vi(){if(typeof window>"u")return;window.ToggleEvent=window.ToggleEvent||rt;function t(l){return l?.includes(":popover-open")&&(l=l.replace(Gs,"$1.\\:popover-open")),l}he(Document.prototype,"querySelector",t),he(Document.prototype,"querySelectorAll",t),he(Element.prototype,"querySelector",t),he(Element.prototype,"querySelectorAll",t),he(Element.prototype,"matches",t),he(Element.prototype,"closest",t),he(DocumentFragment.prototype,"querySelectorAll",t),Object.defineProperties(HTMLElement.prototype,{popover:{enumerable:!0,configurable:!0,get(){if(!this.hasAttribute("popover"))return null;let l=(this.getAttribute("popover")||"").toLowerCase();return l===""||l=="auto"?"auto":"manual"},set(l){this.setAttribute("popover",l)}},showPopover:{enumerable:!0,configurable:!0,value(){Tt(this)}},hidePopover:{enumerable:!0,configurable:!0,value(){De(this,!0,!0)}},togglePopover:{enumerable:!0,configurable:!0,value(l){Re.get(this)==="showing"&&l===void 0||l===!1?De(this,!0,!0):(l===void 0||l===!0)&&Tt(this)}}});let e=Element.prototype.attachShadow;e&&Object.defineProperties(Element.prototype,{attachShadow:{enumerable:!0,configurable:!0,writable:!0,value(l){let c=e.call(this,l);return Pt(c),c}}});let i=HTMLElement.prototype.attachInternals;i&&Object.defineProperties(HTMLElement.prototype,{attachInternals:{enumerable:!0,configurable:!0,writable:!0,value(){let l=i.call(this);return l.shadowRoot&&Pt(l.shadowRoot),l}}});let s=new WeakMap;function o(l){Object.defineProperties(l.prototype,{popoverTargetElement:{enumerable:!0,configurable:!0,set(c){if(c===null)this.removeAttribute("popovertarget"),s.delete(this);else if(c instanceof Element)this.setAttribute("popovertarget",""),s.set(this,c);else throw new TypeError("popoverTargetElement must be an element or null")},get(){if(this.localName!=="button"&&this.localName!=="input"||this.localName==="input"&&this.type!=="reset"&&this.type!=="image"&&this.type!=="button"||this.disabled||this.form&&this.type==="submit")return null;let c=s.get(this);if(c&&c.isConnected)return c;if(c&&!c.isConnected)return s.delete(this),null;let d=xe(this),f=this.getAttribute("popovertarget");return(d instanceof Document||d instanceof Ii)&&f&&d.getElementById(f)||null}},popoverTargetAction:{enumerable:!0,configurable:!0,get(){let c=(this.getAttribute("popovertargetaction")||"").toLowerCase();return c==="show"||c==="hide"?c:"toggle"},set(c){this.setAttribute("popovertargetaction",c)}}})}o(HTMLButtonElement),o(HTMLInputElement);let n=l=>{let c=l.composedPath(),d=c[0];if(!(d instanceof Element)||d?.shadowRoot)return;let f=xe(d);if(!(f instanceof Ii||f instanceof Document))return;let h=c.find(p=>p.matches?.("[popovertargetaction],[popovertarget]"));if(h){qs(h),l.preventDefault();return}},r=l=>{let c=l.key,d=l.target;!l.defaultPrevented&&d&&(c==="Escape"||c==="Esc")&&lt(d.ownerDocument,!0,!0)};(l=>{l.addEventListener("click",n),l.addEventListener("keydown",r),l.addEventListener("pointerdown",Fi),l.addEventListener("pointerup",Fi)})(document),Pt(document)}function E(t){let e=t({css:(s,...o)=>s.raw[0]+o.join("")});if(document.adoptedStyleSheets===void 0){let s=document.createElement("style");s.textContent=e,document.head.appendChild(s);return}let i=new CSSStyleSheet;i.replaceSync(e),document.adoptedStyleSheets=[...document.adoptedStyleSheets,i]}function zi(t,e){let i=t;for(;i;){if(e(i))return i;i=i.parentElement}}function R(t,e){let i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,e?{acceptNode:s=>{let o,n;return e(s,{skip:()=>o=!0,reject:()=>n=!0}),o?NodeFilter.FILTER_SKIP:n?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}:{});return new Lt(i)}var Lt=class{constructor(e){this.walker=e}from(e){return this.walker.currentNode=e,this}first(){return this.walker.firstChild()}last(){return this.walker.lastChild()}next(e){return this.walker.currentNode=e,this.walker.nextSibling()}nextOrFirst(e){let i=this.next(e);return i||(this.walker.currentNode=this.walker.root,this.first())}prev(e){return this.walker.currentNode=e,this.walker.previousSibling()}prevOrLast(e){let i=this.prev(e);return i||(this.walker.currentNode=this.walker.root,this.last())}closest(e,i){let s=this.from(e).walker;for(;s.currentNode;){if(i(s.currentNode))return s.currentNode;s.parentNode()}}contains(e){return this.find(i=>i===e)}find(e){return this.walk((i,s)=>{e(i)&&s(i)})}findOrFirst(e){return this.find(e)||(this.walker.currentNode=this.walker.root),this.first()}each(e){this.walk(i=>e(i))}some(e){return!!this.find(e)}every(e){let i=!0;return this.walk(s=>{e(s)||(i=!1)}),i}map(e){let i=[];return this.walk(s=>i.push(e(s))),i}filter(e){let i=[];return this.walk(s=>e(s)&&i.push(s)),i}walk(e){let i,s=this.walker,o;for(;s.nextNode()&&(i=s.currentNode,e(i,n=>o=n),o===void 0););return o}};function w(t,e){customElements.define(`ui-${t}`,e)}function b(t,e,i,s={}){return t.addEventListener(e,i,s),{off:()=>t.removeEventListener(e,i),pause:o=>{t.removeEventListener(e,i),o(),t.addEventListener(e,i)}}}function $i(t){return["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[tabindex]","[contenteditable]"].some(i=>t.matches(i))&&t.tabIndex>=0}function Ks(t,e){let i;return function(){let s=this,o=arguments;i||(t.apply(s,o),i=!0,setTimeout(()=>i=!1,e))}}var at="pointer";document.addEventListener("keydown",()=>at="keyboard",{capture:!0});document.addEventListener("pointerdown",t=>{at=t.pointerType==="mouse"?"mouse":"touch"},{capture:!0});function Fe(){return at==="keyboard"}function Qs(){return at==="touch"}function ji(t,e){t.addEventListener("keydown",i=>{i.key.length===1&&/[a-zA-Z]/.test(i.key)&&(e(i.key),i.stopPropagation())})}function Zs(t,e){return"lofi-"+(e?e+"-":"")+Math.random().toString(16).slice(2)}function O(t,e){let i=t.hasAttribute("id")?t.getAttribute("id"):Zs(t,e);return u(t,"id",i),t._x_bindings||(t._x_bindings={}),t._x_bindings.id||(t._x_bindings.id=i),i}function L(){let t=!1;return e=>(...i)=>{t||(t=!0,e(...i),t=!1)}}function _e(t,e,{gain:i,lose:s,focusable:o,safeArea:n}){let r=!1;o&&document.addEventListener("focusin",f=>{Fe()&&(t.contains(f.target)||e.contains(f.target)?(r=!0,i()):(r=!1,s()))});let a=()=>{},l=()=>{},c=()=>{r=!1,s(),a(),l()},d=()=>{r=!1,a(),l()};return t.addEventListener("pointerenter",f=>{Qs()||r||(r=!0,i(),setTimeout(()=>{let{safeArea:h,redraw:p,remove:m}=Js(t,e,f.clientX,f.clientY);a=m;let v,x=Ks(g=>{let _=e.getBoundingClientRect(),S=t.getBoundingClientRect(),C;switch(h.contains(g.target)&&eo(S,_,g.clientX,g.clientY)?C="safeArea":e.contains(g.target)?C="panel":t.contains(g.target)?C="trigger":C="outside",v&&clearTimeout(v),C){case"outside":c();break;case"trigger":p(g.clientX,g.clientY);break;case"panel":a();break;case"safeArea":p(g.clientX,g.clientY),v=setTimeout(()=>{c()},300);break;default:break}},100);document.addEventListener("pointermove",x),l=()=>document.removeEventListener("pointermove",x)}))}),{clear:d}}function Js(t,e,i,s){let o=document.createElement("div"),n=e.getBoundingClientRect(),r=t.getBoundingClientRect();o.style.position="fixed",u(o,"data-safe-area","");let a=(l,c)=>{if(n.top===0&&n.bottom===0)return;let d;n.left<r.left&&(d="left"),n.right>r.right&&(d="right"),n.top<r.top&&n.bottom<c&&(d="up"),n.bottom>r.bottom&&n.top>c&&(d="down"),d===void 0&&(d="right");let f,h,p,m,v,x,g,_,S=10;switch(d){case"left":f=n.right,h=Math.max(n.right,l)+5,p=h-f,m=Math.min(r.top,n.top)-S,v=Math.max(r.bottom,n.bottom)+S,x=v-m,g=c-m,_=`polygon(0% 0%, 100% ${g}px, 0% 100%)`;break;case"right":f=Math.min(n.left,l)-5,h=n.left,p=h-f,m=Math.min(r.top,n.top)-S,v=Math.max(r.bottom,n.bottom)+S,x=v-m,g=c-m,_=`polygon(0% ${g}px, 100% 0%, 100% 100%)`;break;case"up":f=Math.min(l,n.left)-S,h=Math.max(l,n.right)+S,p=h-f,m=n.bottom,v=Math.max(n.bottom,c)+5,x=v-m,g=l-f,_=`polygon(0% 0%, 100% 0%, ${g}px 100%)`;break;case"down":f=Math.min(l,n.left)-S,h=Math.max(l,n.right)+S,p=h-f,m=Math.min(n.top,c)-5,v=n.top,x=v-m,g=l-f,_=`polygon(${g}px 0%, 100% 100%, 0% 100%)`;break}o.style.left=`${f}px`,o.style.top=`${m}px`,o.style.width=`${p}px`,o.style.height=`${x}px`,o.style.clipPath=_};return{safeArea:o,redraw:(l,c)=>{o.isConnected||t.appendChild(o),a(l,c)},remove:()=>{o.remove()}}}function eo(t,e,i,s){return!to(t,i,s)&&!io(e,i,s)}function to(t,e,i){return t.left<=e&&e<=t.right&&t.top<=i&&i<=t.bottom}function io(t,e,i){return t.left<=e&&e<=t.right&&t.top<=i&&i<=t.bottom}function u(t,e,i){t._durableAttributeObserver===void 0&&(t._durableAttributeObserver=Yi(t,[e])),t._durableAttributeObserver.hasAttribute(e)||t._durableAttributeObserver.addAttribute(e),t._durableAttributeObserver.pause(()=>{t.setAttribute(e,i)})}function y(t,e){t._durableAttributeObserver===void 0&&(t._durableAttributeObserver=Yi(t,[e])),t._durableAttributeObserver.hasAttribute(e)||t._durableAttributeObserver.addAttribute(e),t._durableAttributeObserver.pause(()=>{t.removeAttribute(e)})}function Yi(t,e){let i=o=>{o.forEach(n=>{n.oldValue===null?t._durableAttributeObserver.pause(()=>y(t,n.attributeName)):t._durableAttributeObserver.pause(()=>u(t,n.attributeName,n.oldValue))})},s=new MutationObserver(o=>i(o));return s.observe(t,{attributeFilter:e,attributeOldValue:!0}),{attributes:e,hasAttribute(o){return this.attributes.includes(o)},addAttribute(o){this.attributes.includes(o)||this.attributes.push(o),s.observe(t,{attributeFilter:this.attributes,attributeOldValue:!0})},pause(o){i(s.takeRecords()),s.disconnect(),o(),s.observe(t,{attributeFilter:this.attributes,attributeOldValue:!0})}}}var A=class extends HTMLElement{constructor(){super(),this.boot?.()}connectedCallback(){queueMicrotask(()=>{this.mount?.()})}mixin(e,i={}){return new e(this,i)}appendMixin(e,i={}){return new e(this,i)}use(e){let i;return this.mixins.forEach(s=>{s instanceof e&&(i=s)}),i}uses(e){let i;return this.mixins.forEach(s=>{s instanceof e&&(i=!0)}),!!i}on(e,i){return b(this,e,i)}root(e,i={}){if(e===void 0)return this.__root;let s=document.createElement(e);for(let n in i)setAttribute(s,n,i[n]);let o=this.attachShadow({mode:"open"});return s.appendChild(document.createElement("slot")),o.appendChild(s),this.__root=s,this.__root}},I=class extends A{};var P=class{constructor(e,i={}){this.el=e,this.grouped=i.grouped===void 0,this.el.mixins=this.el.mixins?this.el.mixins:new Map,this.el.mixins.set(this.constructor.name,this),this.el[this.constructor.name]=!0,this.el.use||(this.el.use=A.prototype.use.bind(this.el)),this.opts=i,this.boot?.({options:s=>{let o=s;Object.entries(this.opts).forEach(([n,r])=>{r!==void 0&&(o[n]=r)}),this.opts=o}}),queueMicrotask(()=>{this.mount?.()})}options(){return this.opts}hasGroup(){return!!this.group()}group(){if(this.grouped!==!1)return zi(this.el,e=>e[this.groupedByType.name])?.use(this.groupedByType)}on(e,i){return b(this.el,e,i)}},G=class extends P{constructor(e,i={}){super(e,i)}walker(){return R(this.el,(e,{skip:i,reject:s})=>{if(e[this.constructor.name]&&e!==this.el)return s();if(!e[this.groupOfType.name]||!e.mixins.get(this.groupOfType.name).grouped)return i()})}};var M=class extends P{boot({options:e}){this.initialState=this.el.value,this.getterFunc=()=>{},this.setterFunc=i=>this.initialState=i,Object.defineProperty(this.el,"value",{get:()=>this.getterFunc(),set:i=>{this.setterFunc(i)}})}initial(e){e(this.initialState)}getter(e){this.getterFunc=e}setter(e){this.setterFunc=e}dispatch(){this.el.dispatchEvent(new Event("input",{bubbles:!1,cancelable:!0})),this.el.dispatchEvent(new Event("change",{bubbles:!1,cancelable:!0}))}};var ct=class extends P{boot({options:e}){this.onChanges=[],this.state=!1}onChange(e){this.onChanges.push(e)}getState(){return this.state}setState(e){let i=this.state;this.state=!!e,this.state!==i&&this.onChanges.forEach(s=>s())}};var Mt=class extends A{boot(){let e=this.button(),i=this.details();if(e){if(!i)return console.warn("ui-disclosure: no panel element found",this)}else return console.warn("ui-disclosure: no trigger element found",this);this._disabled=this.hasAttribute("disabled"),this._controllable=new M(this,{disabled:this._disabled}),i._disclosable=new ct(i),this._controllable.initial(n=>n&&i._disclosable.setState(!0)),this._controllable.getter(()=>i._disclosable.getState()),this._controllable.setter(n=>i._disclosable.setState(n)),i._disclosable.onChange(()=>{this.dispatchEvent(new CustomEvent("lofi-disclosable-change",{bubbles:!0})),this._controllable.dispatch()});let s=()=>{i._disclosable.getState()?(u(this,"data-open",""),u(e,"data-open",""),u(i,"data-open","")):(y(this,"data-open"),y(e,"data-open"),y(i,"data-open"))};i._disclosable.onChange(()=>s()),s(),this._disabled||b(e,"click",n=>{i._disclosable.setState(!i._disclosable.getState())});let o=O(i,"disclosure");u(e,"aria-controls",o),u(e,"aria-expanded","false"),i._disclosable.onChange(()=>{i._disclosable.getState()?u(e,"aria-expanded","true"):u(e,"aria-expanded","false")}),this.hasAttribute("open")&&i._disclosable.setState(!0)}button(){return this.querySelector("button")}details(){return this.lastElementChild}},Dt=class t extends A{boot(){this.exclusive=this.hasAttribute("exclusive"),this.exclusive&&b(this,"lofi-disclosable-change",e=>{e.target.localName==="ui-disclosure"&&e.target.value&&this.disclosureWalker().each(i=>{i!==e.target&&(i.value=!1)})})}disclosureWalker(){return R(this,(e,{skip:i,reject:s})=>{if(e instanceof t&&e!==this||e.localName!=="ui-disclosure")return s()})}};E(({css:t})=>t`ui-disclosure { display: block; }`);w("disclosure",Mt);w("disclosure-group",Dt);var Rt=class extends A{boot(){}},Ft=class extends A{boot(){let e=this.hasAttribute("resize")?this.getAttribute("resize"):"both",i=this.hasAttribute("shrink"),s=this.closest("ui-resizable"),o,n,r=!1;if(!s)throw"Resizable container not found";this.addEventListener("pointerdown",a=>{r||(o=s.offsetWidth,n=s.offsetHeight,r=!0);let l=a.clientX,c=a.clientY,d=parseInt(getComputedStyle(s).width,10),f=parseInt(getComputedStyle(s).height,10),h=p=>{let m=d+(p.clientX-l),v=f+(p.clientY-c);(e==="width"||e==="both")&&(i?s.style.width=`${Math.min(m,o)}px`:s.style.width=`${m}px`),(e==="height"||e==="both")&&(i?s.style.height=`${Math.min(v,n)}px`:s.style.height=`${v}px`)};document.addEventListener("pointermove",h),document.addEventListener("pointerup",()=>{this.releasePointerCapture(a.pointerId),document.removeEventListener("pointermove",h)},{once:!0}),this.setPointerCapture(a.pointerId)})}};E(({css:t})=>t`ui-resizable { display: block; }`);w("resizable",Rt);w("grip",Ft);var W=class extends G{groupOfType=k;boot({options:e}){e({multiple:!1}),this.state=this.options().multiple?new Set:null,this.onChanges=[]}onInitAndChange(e){e(),this.onChanges.push(e)}onChange(e){this.onChanges.push(e)}changed(e,i=!1){if(e.ungrouped)return;let s=e.value,o=e.isSelected(),n=this.options().multiple;o?n?this.state.add(s):this.state=s:n?this.state.delete(s):this.state=null,i||this.onChanges.forEach(r=>r())}getState(){return this.options().multiple?Array.from(this.state):this.state}hasValue(e){return this.options().multiple?this.state.has(e):this.state===e}setState(e){e===null&&(e=this.multiple?[]:""),e=this.options().multiple?(e||[]).map(s=>s+""):e+"",this.state=this.options().multiple?new Set(e):e;let i=this.options().multiple?e:[e];this.walker().each(s=>{let o=s.use(k);if(o.ungrouped)return;let n=i.includes(o.value);n&&!o.isSelected()?o.surgicallySelect():!n&&o.isSelected()&&o.surgicallyDeselect()}),this.onChanges.forEach(s=>s())}selected(){return this.walker().find(e=>e.use(k).isSelected()).use(k)}selecteds(){return this.walker().filter(e=>e.use(k).isSelected()).map(e=>e.use(k))}selectFirst(){this.walker().first()?.use(k).select()}selectAll(){this.walker().filter(e=>!e.use(k).isSelected()).map(e=>e.use(k).select())}deselectAll(){this.walker().filter(e=>e.use(k).isSelected()).map(e=>e.use(k).deselect())}allAreSelected(){return this.walker().filter(e=>e.use(k).isSelected()).length===this.walker().filter(e=>!0).length}noneAreSelected(){return this.state===null||this.state?.size===0}selectableByValue(e){return this.walker().find(i=>i.use(k).value===e)?.use(k)}deselectOthers(e){this.walker().each(i=>{i!==e&&i.use(k).surgicallyDeselect()})}selectedTextValue(){return this.options().multiple?Array.from(this.state).map(e=>this.convertValueStringToElementText(e)).join(", "):this.convertValueStringToElementText(this.state)}convertValueStringToElementText(e){let i=this.findByValue(e);return i?i.label||i.value:e}findByValue(e){return this.selecteds().find(i=>i.value===e)}walker(){return R(this.el,(e,{skip:i,reject:s})=>{if(e[this.constructor.name]&&e!==this.el)return s();if(!e[this.groupOfType.name]||e.mixins.get(this.groupOfType.name).ungrouped)return i()})}},k=class extends P{boot({options:e}){this.groupedByType=W,e({ungrouped:!1,togglable:!1,value:void 0,label:void 0,selectedInitially:!1,dataAttr:"data-selected",ariaAttr:"aria-selected"}),this.ungrouped=this.options().ungrouped,this.value=this.options().value===void 0?this.el.value:this.options().value,this.value=this.value+"",this.label=this.options().label;let i=this.options().selectedInitially;this.group()&&this.group().hasValue(this.value)&&(i=!0),this.multiple=this.hasGroup()?this.group().options().multiple:!1,this.toggleable=this.options().toggleable||this.multiple,this.onSelects=[],this.onUnselects=[],this.onChanges=[],i?this.select(!0):(this.state=i,this.surgicallyDeselect(!0))}mount(){this.el.hasAttribute(this.options().ariaAttr)||u(this.el,this.options().ariaAttr,"false")}onChange(e){this.onChanges.push(e)}onSelect(e){this.onSelects.push(e)}onUnselect(e){this.onUnselects.push(e)}setState(e){e?this.select():this.deselect()}getState(){return this.state}press(){this.toggleable?this.toggle():this.select()}trigger(){this.toggleable?this.toggle():this.select()}toggle(){this.isSelected()?this.deselect():this.select()}isSelected(){return this.state}select(e=!1){let i=!this.isSelected();this.toggleable||this.group()?.deselectOthers(this.el),this.state=!0,u(this.el,this.options().ariaAttr,"true"),u(this.el,this.options().dataAttr,""),i&&(e||(this.onSelects.forEach(s=>s()),this.onChanges.forEach(s=>s())),this.group()?.changed(this,e))}surgicallySelect(){let e=!this.isSelected();this.state=!0,u(this.el,this.options().ariaAttr,"true"),u(this.el,this.options().dataAttr,""),e&&(this.onSelects.forEach(i=>i()),this.onChanges.forEach(i=>i()))}deselect(e=!0){let i=this.isSelected();this.state=!1,u(this.el,this.options().ariaAttr,"false"),y(this.el,this.options().dataAttr),i&&(this.onUnselects.forEach(s=>s()),this.onChanges.forEach(s=>s()),e&&this.group()?.changed(this))}surgicallyDeselect(e=!1){let i=this.isSelected();this.state=!1,u(this.el,this.options().ariaAttr,"false"),y(this.el,this.options().dataAttr),i&&!e&&(this.onUnselects.forEach(s=>s()),this.onChanges.forEach(s=>s()))}getValue(){return this.value}getLabel(){return this.label}};var N=class extends P{boot({options:e}){this.onChanges=[],Object.defineProperty(this.el,"disabled",{get:()=>this.el.hasAttribute("disabled"),set:s=>{s?this.el.setAttribute("disabled",""):this.el.removeAttribute("disabled")}}),this.el.hasAttribute("disabled")?this.el.disabled=!0:this.el.closest("[disabled]")&&(this.el.disabled=!0),new MutationObserver(s=>{this.onChanges.forEach(o=>o(this.el.disabled))}).observe(this.el,{attributeFilter:["disabled"]})}onChange(e){this.onChanges.push(e)}onInitAndChange(e){e(this.el.disabled),this.onChanges.push(e)}enabled(e){return(...i)=>{if(!this.el.disabled)return e(...i)}}disabled(e){return(...i)=>{if(this.el.disabled)return e(...i)}}};var It=class t extends I{boot(){this._disableable=new N(this);let e=[];this._disableable.onInitAndChange(i=>{i?this.walker().each(s=>{s.hasAttribute("disabled")||(s.setAttribute("disabled",""),e.push(()=>s.removeAttribute("disabled")))}):(e.forEach(s=>s()),e=[])}),this._selectable=new W(this,{multiple:!0}),this._controllable=new M(this,{disabled:this._disabled}),this._controllable.initial(i=>i&&this._selectable.setState(i)),this._controllable.getter(()=>this._selectable.getState()),this._detangled=L(),this._controllable.setter(this._detangled(i=>{this._selectable.setState(i)})),this._selectable.onChange(this._detangled(()=>{this._controllable.dispatch()})),u(this,"role","group")}initCheckAll(e){let i=L();e._selectable.onChange(i(()=>{e.indeterminate?(this._selectable.selectAll(),e.checked=!0,e.indeterminate=!1):e.checked?(this._selectable.selectAll(),e.checked=!0,e.indeterminate=!1):(this._selectable.deselectAll(),e.checked=!1,e.indeterminate=!1)}));let s=()=>{this._selectable.allAreSelected()?(e.indeterminate=!1,e.checked=!0):this._selectable.noneAreSelected()?(e.indeterminate=!1,e.checked=!1):e.indeterminate=!0};this._selectable.onChange(i(()=>{s()})),s()}walker(){return R(this,(e,{skip:i,reject:s})=>{if(e instanceof t)return s();if(e.localName!=="ui-checkbox")return i()})}},Nt=class extends I{boot(){let e=this;this.isIndeterminate=!1,this._disableable=new N(this),this.hasAttribute("all")?(this._selectable=new k(e,{ungrouped:!0,toggleable:!0,value:this.hasAttribute("value")?this.getAttribute("value"):Math.random().toString(36).substring(2,10),label:this.hasAttribute("label")?this.getAttribute("label"):null,selectedInitially:this.hasAttribute("checked"),dataAttr:"data-checked",ariaAttr:"aria-checked"}),queueMicrotask(()=>{this.closest("ui-checkbox-group")?.initCheckAll(this)})):(this._selectable=new k(e,{toggleable:!0,dataAttr:"data-checked",ariaAttr:"aria-checked",value:this.hasAttribute("value")?this.getAttribute("value"):Math.random().toString(36).substring(2,10),label:this.hasAttribute("label")?this.getAttribute("label"):null,selectedInitially:this.hasAttribute("checked")}),this._selectable.onChange(()=>{this.indeterminate&&(this.indeterminate=!1)}),this.value=this._selectable.getValue()),this._detangled=L(),this._selectable.onChange(this._detangled(()=>{this.dispatchEvent(new Event("input",{bubbles:!1,cancelable:!0})),this.dispatchEvent(new Event("change",{bubbles:!1,cancelable:!0}))})),u(e,"role","checkbox"),this._disableable.onInitAndChange(i=>{i?y(e,"tabindex","0"):u(e,"tabindex","0")}),b(e,"click",this._disableable.disabled(i=>{i.preventDefault(),i.stopPropagation()}),{capture:!0}),b(e,"click",this._disableable.enabled(i=>{this._selectable.press()})),b(e,"keydown",this._disableable.enabled(i=>{i.key==="Enter"&&(this._selectable.press(),i.preventDefault(),i.stopPropagation())})),b(e,"keydown",this._disableable.enabled(i=>{i.key===" "&&(i.preventDefault(),i.stopPropagation())})),b(e,"keyup",this._disableable.enabled(i=>{i.key===" "&&(this._selectable.press(),i.preventDefault(),i.stopPropagation())})),so(e)}get checked(){return this._selectable.isSelected()}set checked(e){let i=this.closest("ui-checkbox-group")?._detangled||(s=>s);this._detangled(i(()=>{e?this._selectable.select():this._selectable.deselect()}))()}get indeterminate(){return this.isIndeterminate}set indeterminate(e){this.isIndeterminate=!!e,this.isIndeterminate?u(this,"data-indeterminate",""):y(this,"data-indeterminate")}};w("checkbox-group",It);w("checkbox",Nt);E(({css:t})=>t`ui-checkbox-group { display: block; user-select: none; }`);E(({css:t})=>t`ui-checkbox { display: inline-block; user-select: none; }`);function so(t){t.closest("label")?.addEventListener("click",e=>{t.contains(e.target)||t._selectable.press()})}var Ht=new Set,q=class extends P{boot({options:e}){e({trigger:null}),u(this.el,"popover","manual"),this.trigger=this.options().trigger,this.onChanges=[],this.state=!1,b(this.el,"beforetoggle",i=>{let s=this.state;if(this.state=i.newState==="open",this.state){oo(this.el,Ht);let o=new AbortController,n=document.activeElement;setTimeout(()=>{no(this.el,n,o),ro(this.el,n,o),lo(this.el,n,o)}),this.el.addEventListener("beforetoggle",r=>{r.newState==="closed"&&(o.abort(),n.focus())},{signal:o.signal})}s!==this.state&&this.onChanges.forEach(o=>o(this.state,s))}),b(this.el,"toggle",i=>{i.newState==="open"&&Ht.add(this.el),i.newState==="closed"&&Ht.delete(this.el)})}onChange(e){this.onChanges.push(e)}setState(e){e?this.show():this.hide()}getState(){return this.state}toggle(){this.el.togglePopover()}show(){this.el.showPopover()}hide(){this.el.hidePopover()}};function oo(t,e){e.forEach(i=>{t.contains(i)||i.contains(t)||i.hidePopover()})}function no(t,e,i){document.addEventListener("click",s=>{t.contains(s.target)||e===s.target||t.hidePopover()},{signal:i.signal})}function ro(t,e,i){document.addEventListener("focusin",s=>{t.contains(s.target)||e===s.target||(i.abort(),t.hidePopover())},{capture:!0,signal:i.signal})}function lo(t,e,i){document.addEventListener("keydown",s=>{s.key==="Escape"&&t.hidePopover()},{signal:i.signal})}var X=Math.min,H=Math.max,Ne=Math.round,He=Math.floor,Z=t=>({x:t,y:t}),ao={left:"right",right:"left",bottom:"top",top:"bottom"},co={start:"end",end:"start"};function Wt(t,e,i){return H(t,X(e,i))}function Se(t,e){return typeof t=="function"?t(e):t}function J(t){return t.split("-")[0]}function ke(t){return t.split("-")[1]}function qt(t){return t==="x"?"y":"x"}function Bt(t){return t==="y"?"height":"width"}function re(t){return["top","bottom"].includes(J(t))?"y":"x"}function Vt(t){return qt(re(t))}function Gi(t,e,i){i===void 0&&(i=!1);let s=ke(t),o=Vt(t),n=Bt(o),r=o==="x"?s===(i?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[n]>e.floating[n]&&(r=Ie(r)),[r,Ie(r)]}function Xi(t){let e=Ie(t);return[ut(t),e,ut(e)]}function ut(t){return t.replace(/start|end/g,e=>co[e])}function uo(t,e,i){let s=["left","right"],o=["right","left"],n=["top","bottom"],r=["bottom","top"];switch(t){case"top":case"bottom":return i?e?o:s:e?s:o;case"left":case"right":return e?n:r;default:return[]}}function Ui(t,e,i,s){let o=ke(t),n=uo(J(t),i==="start",s);return o&&(n=n.map(r=>r+"-"+o),e&&(n=n.concat(n.map(ut)))),n}function Ie(t){return t.replace(/left|right|bottom|top/g,e=>ao[e])}function ho(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ki(t){return typeof t!="number"?ho(t):{top:t,right:t,bottom:t,left:t}}function fe(t){let{x:e,y:i,width:s,height:o}=t;return{width:s,height:o,top:i,left:e,right:e+s,bottom:i+o,x:e,y:i}}function Qi(t,e,i){let{reference:s,floating:o}=t,n=re(e),r=Vt(e),a=Bt(r),l=J(e),c=n==="y",d=s.x+s.width/2-o.width/2,f=s.y+s.height/2-o.height/2,h=s[a]/2-o[a]/2,p;switch(l){case"top":p={x:d,y:s.y-o.height};break;case"bottom":p={x:d,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:f};break;case"left":p={x:s.x-o.width,y:f};break;default:p={x:s.x,y:s.y}}switch(ke(e)){case"start":p[r]-=h*(i&&c?-1:1);break;case"end":p[r]+=h*(i&&c?-1:1);break}return p}var Zi=async(t,e,i)=>{let{placement:s="bottom",strategy:o="absolute",middleware:n=[],platform:r}=i,a=n.filter(Boolean),l=await(r.isRTL==null?void 0:r.isRTL(e)),c=await r.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:f}=Qi(c,s,l),h=s,p={},m=0;for(let v=0;v<a.length;v++){let{name:x,fn:g}=a[v],{x:_,y:S,data:C,reset:T}=await g({x:d,y:f,initialPlacement:s,placement:h,strategy:o,middlewareData:p,rects:c,platform:r,elements:{reference:t,floating:e}});d=_??d,f=S??f,p={...p,[x]:{...p[x],...C}},T&&m<=50&&(m++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(c=T.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:o}):T.rects),{x:d,y:f}=Qi(c,h,l)),v=-1)}return{x:d,y:f,placement:h,strategy:o,middlewareData:p}};async function ht(t,e){var i;e===void 0&&(e={});let{x:s,y:o,platform:n,rects:r,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Se(e,t),m=Ki(p),x=a[h?f==="floating"?"reference":"floating":f],g=fe(await n.getClippingRect({element:(i=await(n.isElement==null?void 0:n.isElement(x)))==null||i?x:x.contextElement||await(n.getDocumentElement==null?void 0:n.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),_=f==="floating"?{x:s,y:o,width:r.floating.width,height:r.floating.height}:r.reference,S=await(n.getOffsetParent==null?void 0:n.getOffsetParent(a.floating)),C=await(n.isElement==null?void 0:n.isElement(S))?await(n.getScale==null?void 0:n.getScale(S))||{x:1,y:1}:{x:1,y:1},T=fe(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:S,strategy:l}):_);return{top:(g.top-T.top+m.top)/C.y,bottom:(T.bottom-g.bottom+m.bottom)/C.y,left:(g.left-T.left+m.left)/C.x,right:(T.right-g.right+m.right)/C.x}}var Ji=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var i,s;let{placement:o,middlewareData:n,rects:r,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...x}=Se(t,e);if((i=n.arrow)!=null&&i.alignmentOffset)return{};let g=J(o),_=re(a),S=J(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=h||(S||!v?[Ie(a)]:Xi(a)),Y=m!=="none";!h&&Y&&T.push(...Ui(a,v,m,C));let Ge=[a,...T],ge=await ht(e,x),le=[],se=((s=n.flip)==null?void 0:s.overflows)||[];if(d&&le.push(ge[g]),f){let ae=Gi(o,r,C);le.push(ge[ae[0]],ge[ae[1]])}if(se=[...se,{placement:o,overflows:le}],!le.every(ae=>ae<=0)){var Te,Ai;let ae=(((Te=n.flip)==null?void 0:Te.index)||0)+1,_i=Ge[ae];if(_i)return{data:{index:ae,overflows:se},reset:{placement:_i}};let Oe=(Ai=se.filter(ve=>ve.overflows[0]<=0).sort((ve,oe)=>ve.overflows[1]-oe.overflows[1])[0])==null?void 0:Ai.placement;if(!Oe)switch(p){case"bestFit":{var xi;let ve=(xi=se.filter(oe=>{if(Y){let ne=re(oe.placement);return ne===_||ne==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(ne=>ne>0).reduce((ne,ks)=>ne+ks,0)]).sort((oe,ne)=>oe[1]-ne[1])[0])==null?void 0:xi[0];ve&&(Oe=ve);break}case"initialPlacement":Oe=a;break}if(o!==Oe)return{reset:{placement:Oe}}}return{}}}};async function fo(t,e){let{placement:i,platform:s,elements:o}=t,n=await(s.isRTL==null?void 0:s.isRTL(o.floating)),r=J(i),a=ke(i),l=re(i)==="y",c=["left","top"].includes(r)?-1:1,d=n&&l?-1:1,f=Se(e,t),{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}var es=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var i,s;let{x:o,y:n,placement:r,middlewareData:a}=e,l=await fo(e,t);return r===((i=a.offset)==null?void 0:i.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:o+l.x,y:n+l.y,data:{...l,placement:r}}}}},ts=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){let{x:i,y:s,placement:o}=e,{mainAxis:n=!0,crossAxis:r=!1,limiter:a={fn:x=>{let{x:g,y:_}=x;return{x:g,y:_}}},...l}=Se(t,e),c={x:i,y:s},d=await ht(e,l),f=re(J(o)),h=qt(f),p=c[h],m=c[f];if(n){let x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",_=p+d[x],S=p-d[g];p=Wt(_,p,S)}if(r){let x=f==="y"?"top":"left",g=f==="y"?"bottom":"right",_=m+d[x],S=m-d[g];m=Wt(_,m,S)}let v=a.fn({...e,[h]:p,[f]:m});return{...v,data:{x:v.x-i,y:v.y-s}}}}};var is=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){let{placement:i,rects:s,platform:o,elements:n}=e,{apply:r=()=>{},...a}=Se(t,e),l=await ht(e,a),c=J(i),d=ke(i),f=re(i)==="y",{width:h,height:p}=s.floating,m,v;c==="top"||c==="bottom"?(m=c,v=d===(await(o.isRTL==null?void 0:o.isRTL(n.floating))?"start":"end")?"left":"right"):(v=c,m=d==="end"?"top":"bottom");let x=p-l.top-l.bottom,g=h-l.left-l.right,_=X(p-l[m],x),S=X(h-l[v],g),C=!e.middlewareData.shift,T=_,Y=S;if(f?Y=d||C?X(S,g):g:T=d||C?X(_,x):x,C&&!d){let ge=H(l.left,0),le=H(l.right,0),se=H(l.top,0),Te=H(l.bottom,0);f?Y=h-2*(ge!==0||le!==0?ge+le:H(l.left,l.right)):T=p-2*(se!==0||Te!==0?se+Te:H(l.top,l.bottom))}await r({...e,availableWidth:Y,availableHeight:T});let Ge=await o.getDimensions(n.floating);return h!==Ge.width||p!==Ge.height?{reset:{rects:!0}}:{}}}};function pe(t){return os(t)?(t.nodeName||"").toLowerCase():"#document"}function B(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function U(t){var e;return(e=(os(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function os(t){return t instanceof Node||t instanceof B(t).Node}function z(t){return t instanceof Element||t instanceof B(t).Element}function j(t){return t instanceof HTMLElement||t instanceof B(t).HTMLElement}function ss(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof B(t).ShadowRoot}function Ce(t){let{overflow:e,overflowX:i,overflowY:s,display:o}=$(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+i)&&!["inline","contents"].includes(o)}function ns(t){return["table","td","th"].includes(pe(t))}function We(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function dt(t){let e=ft(),i=z(t)?$(t):t;return i.transform!=="none"||i.perspective!=="none"||(i.containerType?i.containerType!=="normal":!1)||!e&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!e&&(i.filter?i.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(i.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(i.contain||"").includes(s))}function rs(t){let e=ee(t);for(;j(e)&&!be(e);){if(dt(e))return e;if(We(e))return null;e=ee(e)}return null}function ft(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function be(t){return["html","body","#document"].includes(pe(t))}function $(t){return B(t).getComputedStyle(t)}function qe(t){return z(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ee(t){if(pe(t)==="html")return t;let e=t.assignedSlot||t.parentNode||ss(t)&&t.host||U(t);return ss(e)?e.host:e}function ls(t){let e=ee(t);return be(e)?t.ownerDocument?t.ownerDocument.body:t.body:j(e)&&Ce(e)?e:ls(e)}function Ee(t,e,i){var s;e===void 0&&(e=[]),i===void 0&&(i=!0);let o=ls(t),n=o===((s=t.ownerDocument)==null?void 0:s.body),r=B(o);if(n){let a=pt(r);return e.concat(r,r.visualViewport||[],Ce(o)?o:[],a&&i?Ee(a):[])}return e.concat(o,Ee(o,[],i))}function pt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function us(t){let e=$(t),i=parseFloat(e.width)||0,s=parseFloat(e.height)||0,o=j(t),n=o?t.offsetWidth:i,r=o?t.offsetHeight:s,a=Ne(i)!==n||Ne(s)!==r;return a&&(i=n,s=r),{width:i,height:s,$:a}}function $t(t){return z(t)?t:t.contextElement}function Pe(t){let e=$t(t);if(!j(e))return Z(1);let i=e.getBoundingClientRect(),{width:s,height:o,$:n}=us(e),r=(n?Ne(i.width):i.width)/s,a=(n?Ne(i.height):i.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!a||!Number.isFinite(a))&&(a=1),{x:r,y:a}}var po=Z(0);function hs(t){let e=B(t);return!ft()||!e.visualViewport?po:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bo(t,e,i){return e===void 0&&(e=!1),!i||e&&i!==B(t)?!1:e}function me(t,e,i,s){e===void 0&&(e=!1),i===void 0&&(i=!1);let o=t.getBoundingClientRect(),n=$t(t),r=Z(1);e&&(s?z(s)&&(r=Pe(s)):r=Pe(t));let a=bo(n,i,s)?hs(n):Z(0),l=(o.left+a.x)/r.x,c=(o.top+a.y)/r.y,d=o.width/r.x,f=o.height/r.y;if(n){let h=B(n),p=s&&z(s)?B(s):s,m=h,v=pt(m);for(;v&&s&&p!==m;){let x=Pe(v),g=v.getBoundingClientRect(),_=$(v),S=g.left+(v.clientLeft+parseFloat(_.paddingLeft))*x.x,C=g.top+(v.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,f*=x.y,l+=S,c+=C,m=B(v),v=pt(m)}}return fe({width:d,height:f,x:l,y:c})}function mo(t){let{elements:e,rect:i,offsetParent:s,strategy:o}=t,n=o==="fixed",r=U(s),a=e?We(e.floating):!1;if(s===r||a&&n)return i;let l={scrollLeft:0,scrollTop:0},c=Z(1),d=Z(0),f=j(s);if((f||!f&&!n)&&((pe(s)!=="body"||Ce(r))&&(l=qe(s)),j(s))){let h=me(s);c=Pe(s),d.x=h.x+s.clientLeft,d.y=h.y+s.clientTop}return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-l.scrollLeft*c.x+d.x,y:i.y*c.y-l.scrollTop*c.y+d.y}}function go(t){return Array.from(t.getClientRects())}function ds(t){return me(U(t)).left+qe(t).scrollLeft}function vo(t){let e=U(t),i=qe(t),s=t.ownerDocument.body,o=H(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),n=H(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight),r=-i.scrollLeft+ds(t),a=-i.scrollTop;return $(s).direction==="rtl"&&(r+=H(e.clientWidth,s.clientWidth)-o),{width:o,height:n,x:r,y:a}}function wo(t,e){let i=B(t),s=U(t),o=i.visualViewport,n=s.clientWidth,r=s.clientHeight,a=0,l=0;if(o){n=o.width,r=o.height;let c=ft();(!c||c&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:n,height:r,x:a,y:l}}function yo(t,e){let i=me(t,!0,e==="fixed"),s=i.top+t.clientTop,o=i.left+t.clientLeft,n=j(t)?Pe(t):Z(1),r=t.clientWidth*n.x,a=t.clientHeight*n.y,l=o*n.x,c=s*n.y;return{width:r,height:a,x:l,y:c}}function as(t,e,i){let s;if(e==="viewport")s=wo(t,i);else if(e==="document")s=vo(U(t));else if(z(e))s=yo(e,i);else{let o=hs(t);s={...e,x:e.x-o.x,y:e.y-o.y}}return fe(s)}function fs(t,e){let i=ee(t);return i===e||!z(i)||be(i)?!1:$(i).position==="fixed"||fs(i,e)}function Ao(t,e){let i=e.get(t);if(i)return i;let s=Ee(t,[],!1).filter(a=>z(a)&&pe(a)!=="body"),o=null,n=$(t).position==="fixed",r=n?ee(t):t;for(;z(r)&&!be(r);){let a=$(r),l=dt(r);!l&&a.position==="fixed"&&(o=null),(n?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ce(r)&&!l&&fs(t,r))?s=s.filter(d=>d!==r):o=a,r=ee(r)}return e.set(t,s),s}function xo(t){let{element:e,boundary:i,rootBoundary:s,strategy:o}=t,r=[...i==="clippingAncestors"?We(e)?[]:Ao(e,this._c):[].concat(i),s],a=r[0],l=r.reduce((c,d)=>{let f=as(e,d,o);return c.top=H(f.top,c.top),c.right=X(f.right,c.right),c.bottom=X(f.bottom,c.bottom),c.left=H(f.left,c.left),c},as(e,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function _o(t){let{width:e,height:i}=us(t);return{width:e,height:i}}function So(t,e,i){let s=j(e),o=U(e),n=i==="fixed",r=me(t,!0,n,e),a={scrollLeft:0,scrollTop:0},l=Z(0);if(s||!s&&!n)if((pe(e)!=="body"||Ce(o))&&(a=qe(e)),s){let f=me(e,!0,n,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else o&&(l.x=ds(o));let c=r.left+a.scrollLeft-l.x,d=r.top+a.scrollTop-l.y;return{x:c,y:d,width:r.width,height:r.height}}function zt(t){return $(t).position==="static"}function cs(t,e){return!j(t)||$(t).position==="fixed"?null:e?e(t):t.offsetParent}function ps(t,e){let i=B(t);if(We(t))return i;if(!j(t)){let o=ee(t);for(;o&&!be(o);){if(z(o)&&!zt(o))return o;o=ee(o)}return i}let s=cs(t,e);for(;s&&ns(s)&&zt(s);)s=cs(s,e);return s&&be(s)&&zt(s)&&!dt(s)?i:s||rs(t)||i}var ko=async function(t){let e=this.getOffsetParent||ps,i=this.getDimensions,s=await i(t.floating);return{reference:So(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Eo(t){return $(t).direction==="rtl"}var Co={convertOffsetParentRelativeRectToViewportRelativeRect:mo,getDocumentElement:U,getClippingRect:xo,getOffsetParent:ps,getElementRects:ko,getClientRects:go,getDimensions:_o,getScale:Pe,isElement:z,isRTL:Eo};function Po(t,e){let i=null,s,o=U(t);function n(){var a;clearTimeout(s),(a=i)==null||a.disconnect(),i=null}function r(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),n();let{left:c,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;let p=He(d),m=He(o.clientWidth-(c+f)),v=He(o.clientHeight-(d+h)),x=He(c),_={rootMargin:-p+"px "+-m+"px "+-v+"px "+-x+"px",threshold:H(0,X(1,l))||1},S=!0;function C(T){let Y=T[0].intersectionRatio;if(Y!==l){if(!S)return r();Y?r(!1,Y):s=setTimeout(()=>{r(!1,1e-7)},1e3)}S=!1}try{i=new IntersectionObserver(C,{..._,root:o.ownerDocument})}catch{i=new IntersectionObserver(C,_)}i.observe(t)}return r(!0),n}function bs(t,e,i,s){s===void 0&&(s={});let{ancestorScroll:o=!0,ancestorResize:n=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,c=$t(t),d=o||n?[...c?Ee(c):[],...Ee(e)]:[];d.forEach(g=>{o&&g.addEventListener("scroll",i,{passive:!0}),n&&g.addEventListener("resize",i)});let f=c&&a?Po(c,i):null,h=-1,p=null;r&&(p=new ResizeObserver(g=>{let[_]=g;_&&_.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(e)})),i()}),c&&!l&&p.observe(c),p.observe(e));let m,v=l?me(t):null;l&&x();function x(){let g=me(t);v&&(g.x!==v.x||g.y!==v.y||g.width!==v.width||g.height!==v.height)&&i(),v=g,m=requestAnimationFrame(x)}return i(),()=>{var g;d.forEach(_=>{o&&_.removeEventListener("scroll",i),n&&_.removeEventListener("resize",i)}),f?.(),(g=p)==null||g.disconnect(),p=null,l&&cancelAnimationFrame(m)}}var ms=es;var gs=ts,vs=Ji,ws=is;var ys=(t,e,i)=>{let s=new Map,o={platform:Co,...i},n={...o.platform,_c:s};return Zi(t,e,{...o,platform:n})};var V=class extends P{boot({options:e}){if(e({reference:null,auto:!0,position:"bottom start",gap:"5",offset:"0",matchWidth:!1}),this.options().reference===null||this.options().position===null)return;let[i,s]=Lo(this.el),o=To(this.el,this.options().reference,i,{position:this.options().position,gap:this.options().gap,offset:this.options().offset,matchWidth:this.options().matchWidth}),n=()=>{};this.reposition=(...r)=>{this.options().auto?n=bs(this.options().reference,this.el,o,{ancestorScroll:!0,ancestorResize:!0,elementResize:!0,layoutShift:!0,animationFrame:!0}):o(...r)},this.cleanup=()=>{n(),s()}}};function To(t,e,i,{position:s,offset:o,gap:n,matchWidth:r}){return(a=null,l=null)=>{ys(e,t,{placement:Oo(s),middleware:[vs(),gs({padding:5,crossAxis:!0}),ms({mainAxis:Number(n),alignmentAxis:Number(o)}),r?ws({apply({rects:c,elements:d}){Object.assign(d.floating.style,{width:`${c.reference.width}px`})}}):void 0]}).then(({x:c,y:d})=>{i(a||c,l||d)})}}function Oo(t){return t.split(" ").join("-")}function Lo(t){let e=(n,r)=>{Object.assign(t.style,{position:"absolute",inset:`${r}px auto auto ${n}px`})},i,s,o=new MutationObserver(()=>e(i,s));return[(n,r)=>{i=n,s=r,o.disconnect(),e(i,s),o.observe(t,{attributeFilter:["style"]})},()=>{o.disconnect()}]}var jt=class extends A{boot(){let e=this.trigger(),i=this.overlay();if(e){if(!i)return console.warn("ui-dropdown: no [popover] overlay found",this)}else return console.warn("ui-dropdown: no trigger element found",this);this._disabled=this.hasAttribute("disabled"),this._controllable=new M(this),i._popoverable=new q(i),i._anchorable=new V(i,{reference:e,position:this.hasAttribute("position")?this.getAttribute("position"):void 0,gap:this.hasAttribute("gap")?this.getAttribute("gap"):void 0,offset:this.hasAttribute("offset")?this.getAttribute("offset"):void 0}),i._popoverable.onChange(()=>{i._popoverable.getState()?i._anchorable.reposition():i._anchorable.cleanup()}),this._controllable.initial(n=>i._popoverable.setState(n)),this._controllable.getter(()=>i._popoverable.getState());let s=L();this._controllable.setter(n=>i._popoverable.setState(n)),i._popoverable.onChange(s(()=>this._controllable.dispatch())),this.hasAttribute("hover")&&_e(e,i,{gain(){i._popoverable.setState(!0)},lose(){i._popoverable.setState(!1)},focusable:!0}),b(e,"click",()=>i._popoverable.toggle()),i._popoverable.getState()?(u(this,"data-open",""),u(e,"data-open",""),u(i,"data-open","")):(y(this,"data-open"),y(e,"data-open"),y(i,"data-open")),i._popoverable.onChange(()=>{i._popoverable.getState()?(u(this,"data-open",""),u(e,"data-open",""),u(i,"data-open","")):(y(this,"data-open"),y(e,"data-open"),y(i,"data-open"))});let o=O(i,"dropdown");u(e,"aria-haspopup","true"),u(e,"aria-controls",o),u(e,"aria-expanded",i._popoverable.getState()?"true":"false"),i._popoverable.onChange(()=>{u(e,"aria-expanded",i._popoverable.getState()?"true":"false")}),i._popoverable.onChange(()=>{i._popoverable.getState()?i.onPopoverShow?.():i.onPopoverHide?.()})}trigger(){return this.querySelector("button")}overlay(){return this.lastElementChild?.matches("[popover]")&&this.lastElementChild}};w("dropdown",jt);var Yt=class extends A{boot(){let e=this.trigger(),i=this.overlay();this._disabled=this.hasAttribute("disabled"),this._popoverable=new q(i),this._anchorable=new V(i,{reference:e,auto:!1,position:this.hasAttribute("position")?this.getAttribute("position"):void 0,gap:this.hasAttribute("gap")?this.getAttribute("gap"):void 0,offset:this.hasAttribute("offset")?this.getAttribute("offset"):void 0}),b(e,"contextmenu",s=>{s.preventDefault(),this._anchorable.reposition(s.pageX,s.pageY),this._popoverable.setState(!0),this.hasAttribute("detail")&&u(i,"data-detail",this.getAttribute("detail"))}),this.hasAttribute("detail")&&u(i,"data-detail","")}trigger(){return this.firstElementChild}overlay(){if(this.hasAttribute("target")){let e=this.getAttribute("target");return document.getElementById(e)}else return this.lastElementChild.matches("[popover]")&&this.lastElementChild}};w("context",Yt);var Be=class extends G{groupOfType=F;boot({options:e}){e({wrap:!1,filter:!1}),this.onChanges=[]}onChange(e){this.onChanges.push(e)}activated(e){this.onChanges.forEach(i=>i())}activateFirst(){this.filterAwareWalker().first()?.use(F).activate()}activateSelectedOrFirst(e){if(!e||(s=>s.matches("ui-option")?getComputedStyle(s).display==="none":!1)(e)){this.filterAwareWalker().first()?.use(F).activate();return}e?.use(F).activate()}activateActiveOrFirst(){let e=this.getActive();if(!e){this.filterAwareWalker().first()?.use(F).activate();return}e?.use(F).activate()}activateActiveOrLast(){let e=this.getActive();if(!e){this.filterAwareWalker().last()?.use(F).activate();return}e?.use(F).activate()}activatePrev(){let e=this.getActive();if(!e){this.filterAwareWalker().last()?.use(F).activate();return}let i;this.options.wrap?i=this.filterAwareWalker().prevOrLast(e):i=this.filterAwareWalker().prev(e),i?.use(F).activate()}activateNext(){let e=this.getActive();if(!e){this.filterAwareWalker().first()?.use(F).activate();return}let i;this.options.wrap?i=this.filterAwareWalker().nextOrFirst(e):i=this.filterAwareWalker().next(e),i?.use(F).activate()}getActive(){return this.walker().find(e=>e.use(F).isActive())}clearActive(){this.getActive()?.use(F).deactivate()}filterAwareWalker(){let e=i=>i.matches("ui-option")?getComputedStyle(i).display==="none":!1;return R(this.el,(i,{skip:s,reject:o})=>{if(i[this.constructor.name]&&i!==this.el)return o();if(!i[this.groupOfType.name])return s();if(i.hasAttribute("disabled")||e(i))return o()})}},F=class t extends P{groupedByType=Be;mount(){this.el.addEventListener("mouseenter",()=>{this.activate()}),this.el.addEventListener("mouseleave",()=>{this.deactivate()})}activate(){this.group()&&this.group().walker().each(e=>e.use(t).deactivate(!1)),u(this.el,"data-active",""),this.el.scrollIntoView({block:"nearest"}),this.group()&&this.group().activated(this.el)}deactivate(e=!0){y(this.el,"data-active"),e&&this.group()&&this.group().activated(this.el)}isActive(){return this.el.hasAttribute("data-active")}};var Ve=class extends G{groupOfType=te;boot({options:e}){e({}),this.onChanges=[],this.lastSearch=""}onChange(e){this.onChanges.push(e)}filter(e){e===""?this.walker().each(i=>{i.use(te).unfilter()}):this.walker().each(i=>{this.matches(i,e)?i.use(te).unfilter():i.use(te).filter()}),this.lastSearch!==e&&this.onChanges.forEach(i=>i()),this.lastSearch=e}matches(e,i){return e.textContent.toLowerCase().trim().includes(i.toLowerCase().trim())}hasResults(){return this.walker().some(e=>!e.use(te).isFiltered())}},te=class extends P{groupedByType=Ve;boot({options:e}){e({mirror:null,keep:!1}),this.onChanges=[]}filter(){this.options().keep||(u(this.el,"data-hidden",""),this.options().mirror&&u(this.options().mirror,"data-hidden",""))}unfilter(){y(this.el,"data-hidden"),this.options().mirror&&y(this.options().mirror,"data-hidden","")}isFiltered(){return this.el.hasAttribute("data-hidden")}};var ie=class extends G{groupOfType=D;boot({options:e}){e({wrap:!1,ensureTabbable:!0})}mount(){this.options().ensureTabbable&&this.ensureTabbable()}focusFirst(){let e;e=e||this.walker().find(i=>i.hasAttribute("autofocus")),e=e||this.walker().find(i=>i.getAttribute("tabindex")==="0"),e=e||this.walker().find(i=>i.getAttribute("tabindex")==="-1"),e=e||this.walker().find(i=>$i(i)),e?.focus()}focusPrev(){this.moveFocus(e=>this.options().wrap?this.walker().prevOrLast(e):this.walker().prev(e))}focusNext(){this.moveFocus(e=>this.options().wrap?this.walker().nextOrFirst(e):this.walker().next(e))}focusBySearch(e){let i=this.walker().find(s=>s.textContent.toLowerCase().trim().startsWith(e.toLowerCase()));i?.use(D).tabbable(),i?.use(D).focus()}moveFocus(e){let i=this.walker().find(o=>o.use(D).isTabbable());e(i)?.use(D).focus()}ensureTabbable(){this.walker().findOrFirst(e=>{e.use(D).isTabbable()})?.use(D).tabbable()}wipeTabbables(){this.walker().each(e=>{e.use(D).untabbable()})}untabbleOthers(e){this.walker().each(i=>{i!==e&&i.use(D).untabbable()})}walker(){return R(this.el,(e,{skip:i,reject:s})=>{if(e[this.constructor.name]&&e!==this.el)return s();if(!e[this.groupOfType.name])return i();if(e.hasAttribute("disabled"))return s()})}},D=class extends P{groupedByType=ie;boot({options:e}){e({hover:!1,disableable:null,tabbable:!1,tabbableAttr:null})}mount(){let e=this.options().disableable;if(!e)throw"Focusable requires a Disableable instance...";this.el.hasAttribute("tabindex")||(this.options().tabbable?this.tabbable():this.untabbable()),this.pauseFocusListener=this.on("focus",e.enabled(()=>{this.focus(!1)})).pause,this.on("focus",e.enabled(()=>{Fe()&&u(this.el,"data-focus","")})),this.on("blur",e.enabled(()=>{y(this.el,"data-focus")})),this.options().hover&&this.on("pointerenter",e.enabled(()=>{this.group()?.untabbleOthers(this.el),this.tabbable()})),this.options().hover&&this.on("pointerleave",e.enabled(i=>{this.untabbable()}))}focus(e=!0){this.group()?.untabbleOthers(this.el),this.tabbable(),e&&this.pauseFocusListener(()=>{this.el.focus({focusVisible:!1})})}tabbable(){u(this.el,"tabindex","0"),this.options().tabbableAttr&&u(this.el,this.options().tabbableAttr,"")}untabbable(){u(this.el,"tabindex","-1"),this.options().tabbableAttr&&y(this.el,this.options().tabbableAttr)}isTabbable(){return this.el.getAttribute("tabindex")==="0"}};var Gt=class extends A{boot(){u(this,"tabindex","-1"),this.hasAttribute("popover")&&this.addEventListener("lofi-close-popovers",()=>{this.hidePopover()}),u(this,"role","listbox")}},Xt=class extends A{mount(){this._disabled=this.hasAttribute("disabled");let e=this;this._disabled&&(u(e,"disabled",""),u(e,"aria-disabled","true"));let i=O(e,"option");if(u(e,"role","option"),this._filterable=new te(e,{mirror:this,keep:!!this.closest("ui-empty")||this.getAttribute("filter")==="manual"}),this._disabled)return;this._activatable=new F(e),this.hasAttribute("action")||(this._selectable=new k(e,{value:this.getValue(),label:this.getLabel(),selectedInitially:this.hasAttribute("selected")})),new MutationObserver(o=>{o.forEach(n=>{n.attributeName==="selected"&&(this.hasAttribute("selected")?this._selectable.setState(!0):this._selectable.setState(!1))})}).observe(this,{attributeFilter:["selected"]})}get selected(){return this._disabled||!this?._selectable?!1:this._selectable.isSelected()}set selected(e){if(!this._disabled){if(!this?._selectable)return!1;this._selectable.setState(e)}}getLabel(){return this.hasAttribute("label")?this.getAttribute("label"):this.textContent.trim()}getValue(){return this.hasAttribute("value")?this.getAttribute("value"):this.textContent.trim()}};E(({css:t})=>t`ui-options:not([popover]), ui-option { display: block; cursor: default; }`);w("options",Gt);w("option",Xt);var Ut=class extends A{boot(){let e=this.hasAttribute("label")?"label":"description",i=this.button(),s=this.overlay();if(i){if(!s)return}else return console.warn("ui-tooltip: no trigger element found",this);this._disabled=this.hasAttribute("disabled"),s._popoverable=new q(s),s._anchorable=new V(s,{reference:i,position:this.hasAttribute("position")?this.getAttribute("position"):void 0,gap:this.hasAttribute("gap")?this.getAttribute("gap"):void 0,offset:this.hasAttribute("offset")?this.getAttribute("offset"):void 0}),s._popoverable.onChange(()=>s._anchorable.reposition()),this._disabled||_e(i,s,{gain(){s._popoverable.setState(!0)},lose(){s._popoverable.setState(!1)},focusable:!0});let o=O(s,"tooltip");u(i,"aria-controls",o),u(i,"aria-expanded","false"),s._popoverable.onChange(()=>{s._popoverable.getState()?u(i,"aria-expanded","true"):u(i,"aria-expanded","false")}),e==="label"?u(i,"aria-labelledby",o):u(i,"aria-describedby",o),u(s,"role","tooltip")}button(){return this.firstElementChild}overlay(){return this.lastElementChild!==this.button()&&this.lastElementChild}};w("tooltip",Ut);var bt=class extends A{boot(){if(!this.querySelector("template")){let e=document.createElement("template");e.setAttribute("name","placeholder"),e.innerHTML="<span>"+this.innerHTML+"</span>",this.innerHTML="",this.appendChild(e)}if(!this.querySelector('template[name="options"]')){let e=document.createElement("template");e.setAttribute("name","options"),e.innerHTML="<div><slot></slot></div>",this.appendChild(e)}if(!this.querySelector('template[name="option"]')){let e=document.createElement("template");e.setAttribute("name","option"),e.innerHTML="<div><slot></slot></div>",this.appendChild(e)}this.templates={placeholder:this.querySelector('template[name="placeholder"]'),overflow:this.querySelector('template[name="overflow"]'),options:this.querySelector('template[name="options"]'),option:this.querySelector('template[name="option"]')},this.templates.options.elsByValue=new Map,this.max=this.templates.overflow?.getAttribute("max")?this.templates.overflow.getAttribute("max"):1/0,this.selecteds=new Map,this.picker=this.closest("ui-select"),this.multiple=this.picker.hasAttribute("multiple")}mount(){queueMicrotask(()=>{this.picker._selectable.onInitAndChange(()=>{let i=!0;this.render(!0)});let e=this.picker.list();e&&new MutationObserver(i=>{queueMicrotask(()=>this.render())}).observe(e,{childList:!0})})}render(e){if(this.multiple){let i=this.picker.value,s=Array.from(this.selecteds.keys()).filter(r=>!i.includes(r)),o=i.filter(r=>!this.selecteds.has(r));s.forEach(r=>this.selecteds.delete(r));let n=new Map;for(let r of o){let a=this.picker._selectable.findByValue(r);if(!a){if(e)return setTimeout(()=>this.render());throw`Could not find option for value "${r}"`}n.set(r,a)}n.forEach((r,a)=>this.selecteds.set(a,r)),this.templates.placeholder?.clearPlaceholder?.(),this.templates.overflow?.clearOverflow?.(),this.templates.options?.clearOptions?.(),this.selecteds.size>0?this.renderOptions({hasOverflowed:r=>{if(this.max==="auto"){let a=!1;if(this.renderOverflow(this.selecteds.size,this.selecteds.size-r),this.clientWidth<this.scrollWidth&&(a=!0),this.templates.overflow?.clearOverflow?.(),a)return!0}return r>parseInt(this.max)},renderOverflow:r=>{this.templates?.overflow?.getAttribute("mode")!=="append"&&this.templates.options?.clearOptions?.(),this.renderOverflow(this.selecteds.size,r)}}):this.renderPlaceholder()}else{let i=this.picker.value;if(Array.from(this.selecteds.keys()).includes(i))return;if(this.selecteds.clear(),!["",null,void 0].includes(i)){let s=this.picker._selectable.findByValue(i);if(!s){if(e)return setTimeout(()=>{console.log("retrying..."),this.render()});throw`Could not find option for value "${i}"`}this.selecteds.set(i,s)}this.templates.placeholder?.clearPlaceholder?.(),this.templates.option?.clearOption?.(),this.selecteds.size>0?this.renderOption():this.renderPlaceholder()}}renderOptions({hasOverflowed:e,renderOverflow:i}){let s=document.createElement("div");s.style.display="contents";let o=ze(this.templates.options,{default:s});this.templates.options.after(o),this.templates.options.clearOptions=()=>{o.remove(),this.templates.options.clearOptions=()=>{}};let n=0,r=!1;for(let[l,c]of this.selecteds){let d=new DocumentFragment;d.append(...c.el.cloneNode(!0).childNodes);let f=ze(this.templates.option,{text:c.el.textContent.trim(),default:d,value:l});if(f.setAttribute("data-value",l),f.deselect=()=>c.deselect(),s.appendChild(f),n++,e(n)){r=!0,s.removeChild(f),n--;break}}let a=new DocumentFragment;a.append(...s.childNodes),s.replaceWith(a),r&&i(this.selecteds.size-n)}renderOption(){for(let[e,i]of this.selecteds){let s=new DocumentFragment;s.append(...i.el.cloneNode(!0).childNodes);let o=ze(this.templates.option,{text:i.el.textContent.trim(),default:s,value:e});o.setAttribute("data-value",e),o.deselect=()=>i.deselect(),this.templates.option.after(o),this.templates.option.clearOption=()=>{o.remove(),this.templates.option.clearOption=()=>{}}}}renderPlaceholder(){if(!this.templates.placeholder)return;let e=ze(this.templates.placeholder);this.templates.placeholder.after(e),this.templates.placeholder.clearPlaceholder=()=>{e.remove(),this.templates.placeholder.clearPlaceholder=()=>{}}}renderOverflow(e,i){if(!this.templates.overflow)return;let s=ze(this.templates.overflow,{remainder:i,count:this.selecteds.size});this.templates.overflow.after(s),this.templates.overflow.clearOverflow=()=>{s.remove(),this.templates.placeholder.clearOverflow=()=>{}}}};function ze(t,e={}){let i=t.content.cloneNode(!0);return Object.entries(e).forEach(([s,o])=>{(s==="default"?i.querySelectorAll("slot:not([name])"):i.querySelectorAll(`slot[name="${s}"]`)).forEach(r=>r.replaceWith(typeof o=="string"?document.createTextNode(o):o))}),i.firstElementChild}var Ye=class extends I{boot(){let e=this.list();this._controllable=new M(this),this._selectable=new W(e,{multiple:this.hasAttribute("multiple")}),this._controllable.initial(s=>s&&this._selectable.setState(s)),this._controllable.getter(()=>this._selectable.getState());let i=L();this._controllable.setter(i(s=>{this._selectable.setState(s)})),this._selectable.onChange(i(()=>{this._controllable.dispatch(),this.dispatchEvent(new CustomEvent("select",{bubbles:!1}))}))}mount(){this._disableable=new N(this);let e=this.input(),i=this.button(),s=this.trigger(),o=this.list(),n=this.overlay(),r=this.hasAttribute("multiple"),a=this.hasAttribute("autocomplete"),l=this.hasAttribute("autocomplete")&&this.getAttribute("autocomplete").trim().split(" ").includes("strict"),c=this.querySelector("ui-options")||this,d=Mo(c,"options");if(this._activatable=new Be(c,{filter:"data-hidden"}),!e&&!i&&this._disableable.onInitAndChange(h=>{h?this.removeAttribute("tabindex"):this.setAttribute("tabindex","0")}),this.hasAttribute("filter")&&this.getAttribute("filter")!=="manual"&&(this._filterable=new Ve(o),this._filterable.onChange(()=>{this._activatable.clearActive(),this._filterable.hasResults()&&this._activatable.activateFirst()}),this.addEventListener("close",()=>{this._filterable&&this._filterable.filter("")})),!this.querySelector("[popover], input"))$e(this,this._activatable),je(this,this,this._activatable),As(this,this._activatable,this._selectable);else if(!this.querySelector("[popover]")&&this.querySelector("input")){let h=this.querySelector("input");this._disableable.onInitAndChange(p=>{p?h&&u(h,"disabled",""):h&&y(h,"disabled")}),ii(this,h,this._selectable,this._popoverable),As(h,this._activatable,this._selectable),Ss(a,l,this,h,this._selectable,this._popoverable),ti(h),ei(h),this._filterable&&Jt(h,this._filterable),_s(h,this._activatable),$e(h,this._activatable),je(this,h,this._activatable),mt(this,this._activatable)}else if(this.querySelector("[popover]")&&this.querySelector("input:not([popover] input)")){let h=this.querySelector("input:not([popover] input)");u(h,"role","combobox"),u(h,"aria-controls",d);let p=this.querySelector("[popover]");this._popoverable=new q(p),this._anchorable=new V(p,{reference:h,matchWidth:!0,position:this.hasAttribute("position")?this.getAttribute("position"):void 0,gap:this.hasAttribute("gap")?this.getAttribute("gap"):void 0,offset:this.hasAttribute("offset")?this.getAttribute("offset"):void 0}),Ss(a,l,this,h,this._selectable,this._popoverable),this._disableable.onInitAndChange(m=>{m?h&&u(h,"disabled",""):h&&y(h,"disabled")}),this.querySelectorAll("button:not([popover] button)").forEach(m=>{u(m,"tabindex","-1"),u(m,"aria-controls",d),u(m,"aria-haspopup","listbox"),gt(m,this._popoverable),b(m,"click",()=>{this._popoverable.toggle(),h.focus()})}),ii(this,h,this._selectable,this._popoverable),Kt(this,h,p,this._popoverable,this._anchorable),gt(h,this._popoverable),ti(h),ei(h),this._filterable&&Jt(h,this._filterable),_s(h,this._activatable),Fo(h,this._popoverable),Zt(h,this._popoverable,this._activatable,this._selectable),Do(h,this._popoverable),$e(h,this._activatable),je(this,h,this._activatable),mt(this,this._activatable),Qt(this._popoverable,this._activatable,this._selectable),si(this,this._selectable,this._popoverable,r)}else if(this.querySelector("[popover]")&&this.querySelector("[popover] input")){let h;CSS.supports("selector(&)")?h=this.querySelector("button:not(& [popover] button)"):h=this.querySelector("button:not([popover] button)");let p=this.querySelector("[popover] input"),m=this.querySelector("[popover]");u(h,"role","combobox"),u(p,"role","combobox"),u(h,"aria-controls",d),this._disableable.onInitAndChange(v=>{v?(h&&u(h,"disabled",""),p&&u(p,"disabled","")):(h&&y(h,"disabled"),p&&y(p,"disabled"))}),this._popoverable=new q(m),this._anchorable=new V(m,{reference:h,matchWidth:!0,position:this.hasAttribute("position")?this.getAttribute("position"):void 0,gap:this.hasAttribute("gap")?this.getAttribute("gap"):void 0,offset:this.hasAttribute("offset")?this.getAttribute("offset"):void 0}),ti(p),ei(p),this._filterable&&Jt(p,this._filterable),Ro(h,p,this._popoverable),Kt(this,h,m,this._popoverable,this._anchorable),gt(h,this._popoverable),ii(this,p,this._selectable,this._popoverable),Zt(h,this._popoverable,this._activatable,this._selectable),xs(h,this._popoverable),$e(p,this._activatable),je(this,p,this._activatable),mt(this,this._activatable),Qt(this._popoverable,this._activatable,this._selectable),si(this,this._selectable,this._popoverable,r)}else if(this.querySelector("[popover]")){let h=this.querySelector("button:not([popover] button)"),p=this.querySelector("[popover]");u(h,"role","combobox"),u(h,"aria-controls",d),this._disableable.onInitAndChange(m=>{m?(h&&u(h,"disabled",""),e&&u(e,"disabled","")):(h&&y(h,"disabled"),e&&y(e,"disabled"))}),this._popoverable=new q(p),this._anchorable=new V(p,{reference:h,matchWidth:!0,position:this.hasAttribute("position")?this.getAttribute("position"):void 0,gap:this.hasAttribute("gap")?this.getAttribute("gap"):void 0,offset:this.hasAttribute("offset")?this.getAttribute("offset"):void 0}),Kt(this,h,p,this._popoverable,this._anchorable),gt(h,this._popoverable),Zt(h,this._popoverable,this._activatable,this._selectable),xs(h,this._popoverable),$e(h,this._activatable),je(this,h,this._activatable),mt(this,this._activatable),Qt(this._popoverable,this._activatable,this._selectable),si(this,this._selectable,this._popoverable,r)}new MutationObserver(h=>{setTimeout(()=>{if(!this._popoverable||this._popoverable.getState()){let p=this._selectable.selecteds()[0]?.el;queueMicrotask(()=>{this._activatable.activateSelectedOrFirst(p)})}else this._activatable.clearActive()})}).observe(o,{childList:!0})}button(){return this.querySelector("button:has(+ [popover])")}trigger(){return this.querySelector("input, button")}input(){return this.querySelector("input")}list(){return this.querySelector("ui-options")||this}overlay(){return this.querySelector("[popover]")}clear(){this.input()&&(this.input().value="",this.input().dispatchEvent(new Event("input",{bubbles:!1})))}open(){this._popoverable.setState(!0)}close(){this._popoverable.setState(!1)}deselectLast(){!this.hasAttribute("multiple")&&this.value!==null&&(this.value=null,this.dispatchEvent(new Event("input",{bubbles:!1})),this.dispatchEvent(new Event("change",{bubbles:!1}))),this.hasAttribute("multiple")&&this.value.length!==0&&(this.value=this.value.slice(0,-1),this.dispatchEvent(new Event("input",{bubbles:!1})),this.dispatchEvent(new Event("change",{bubbles:!1})))}},oi=class extends A{boot(){u(this,"data-hidden","")}mount(){queueMicrotask(()=>{let e=this.closest("ui-autocomplete, ui-combobox, ui-select"),i=this.closest("ui-options");if(!i)return;let s=a=>getComputedStyle(a).display==="none",o=()=>{let a;CSS.supports("selector(&)")?a=Array.from(i.querySelectorAll("& > ui-option")).filter(l=>!s(l)).length===0:a=Array.from(i.querySelectorAll(":scope > ui-option")).filter(l=>!s(l)).length===0,a?y(this,"data-hidden"):u(this,"data-hidden","")};o();let n=e._filterable;n&&n.onChange(o),new MutationObserver(a=>{setTimeout(()=>o())}).observe(i,{childList:!0})})}};w("selected",bt);w("select",Ye);w("empty",oi);E(({css:t})=>t`ui-select { display: block; }`);E(({css:t})=>t`ui-selected-option { display: contents; }`);E(({css:t})=>t`ui-empty { display: block; cursor: default; }`);function $e(t,e){b(t,"keydown",i=>{["ArrowDown","ArrowUp","Escape"].includes(i.key)&&(i.key==="ArrowDown"?(e.activateNext(),i.preventDefault(),i.stopPropagation()):i.key==="ArrowUp"&&(e.activatePrev(),i.preventDefault(),i.stopPropagation()))})}function je(t,e,i){b(e,"keydown",s=>{if(s.key==="Enter"){let o=i.getActive();if(s.preventDefault(),s.stopPropagation(),!o)return;o.click(),t.dispatchEvent(new CustomEvent("action",{bubbles:!1,cancelable:!1}))}})}function mt(t,e,i=!1){b(t,i?"pointerdown":"click",s=>{if(s.target.closest("ui-option")){let o=s.target.closest("ui-option");if(o._disabled)return;o._selectable?.trigger(),t.dispatchEvent(new CustomEvent("action",{bubbles:!1,cancelable:!1})),s.preventDefault(),s.stopPropagation()}})}function As(t,e,i){b(t,"focus",()=>{let s=i.selecteds()[0]?.el;e.activateSelectedOrFirst(s)}),b(t,"blur",()=>{e.clearActive()})}function Mo(t){let e=O(t,"options");return u(t,"role","listbox"),e}function gt(t,e){u(t,"aria-haspopup","listbox");let i=()=>{u(t,"aria-expanded",e.getState()?"true":"false"),e.getState()?u(t,"data-open",""):y(t,"data-open","")};e.onChange(()=>{i()}),i()}function Kt(t,e,i,s,o){let n=()=>{Array.from([t,i]).forEach(r=>{s.getState()?u(r,"data-open",""):y(r,"data-open","")}),s.getState()&&o.reposition()};s.onChange(()=>n()),n(),s.onChange(()=>{s.getState()?t.dispatchEvent(new Event("open",{bubbles:!1,cancelable:!1})):t.dispatchEvent(new Event("close",{bubbles:!1,cancelable:!1}))})}function Qt(t,e,i){t.onChange(()=>{if(t.getState()){let s=i.selecteds()[0]?.el;queueMicrotask(()=>{e.activateSelectedOrFirst(s)})}else e.clearActive()})}function Zt(t,e,i,s){b(t,"keydown",o=>{["ArrowDown","ArrowUp","Escape"].includes(o.key)&&(o.key==="ArrowDown"||o.key==="ArrowUp"?e.getState()||(e.setState(!0),o.preventDefault(),o.stopImmediatePropagation()):o.key==="Escape"&&e.getState()&&e.setState(!1))})}function Do(t,e){b(t,"click",()=>{e.getState()||(e.setState(!0),t.focus())})}function xs(t,e){b(t,"click",()=>{e.setState(!e.getState()),t.focus()})}function Ro(t,e,i){i.onChange(()=>{i.getState()&&setTimeout(()=>e.focus())})}function Jt(t,e){e&&b(t,"input",i=>{e.filter(i.target.value)})}function ei(t){b(t,"focus",()=>t.select())}function ti(t){b(t,"change",e=>e.stopPropagation()),b(t,"input",e=>e.stopPropagation())}function Fo(t,e){b(t,"keydown",i=>{(/^[a-zA-Z0-9]$/.test(i.key)||i.key==="Backspace")&&(e.getState()||e.setState(!0))})}function ii(t,e,i,s){if(!t.hasAttribute("clear"))return;let n=f=>{e.value=f,e.dispatchEvent(new Event("input",{bubbles:!1}))},r=t.getAttribute("clear"),a=r===""||r.split(" ").includes("action"),l=r===""||r.split(" ").includes("select"),c=r===""||r.split(" ").includes("close"),d=r===""||r.split(" ").includes("esc");r==="none"&&(a=l=c=d=!1),a?t.addEventListener("action",f=>{n("")}):l&&i.onChange(()=>{queueMicrotask(()=>n(""))}),c&&s.onChange(()=>{s.getState()||n("")}),d&&b(e,"keydown",f=>{f.key==="Escape"&&n("")})}function si(t,e,i,s){let o=!s,n=!s;if(t.hasAttribute("close")){let r=t.getAttribute("close");o=r===""||r.split(" ").includes("action"),n=r.split(" ").includes("select"),r==="none"&&(o=n=!1)}o?t.addEventListener("action",r=>{i.setState(!1)}):n&&e.onChange(()=>{i.setState(!1)})}function _s(t,e){e.onChange(()=>{let i=e.getActive();i?u(t,"aria-activedescendant",i.id):y(t,"aria-activedescendant")})}function Ss(t,e,i,s,o,n){if(!t){u(s,"autocomplete","off"),u(s,"aria-autocomplete","none");return}let r=a=>{s.value=a,s.dispatchEvent(new Event("input",{bubbles:!1}))};u(s,"autocomplete","off"),u(s,"aria-autocomplete","list"),queueMicrotask(()=>{o.onInitAndChange(()=>{s.value=o.selectedTextValue()})}),i.addEventListener("action",a=>{r(o.selectedTextValue())}),e&&n.onChange(()=>{n.getState()||r(o.selectedTextValue())})}var ni=class extends I{boot(){let e=this;if(this._disableable=new N(this),this._selectable=new k(e,{toggleable:!0,dataAttr:"data-checked",ariaAttr:"aria-checked",value:this.hasAttribute("value")?this.getAttribute("value"):null,label:this.hasAttribute("label")?this.getAttribute("label"):null,selectedInitially:this.hasAttribute("checked")}),this.value=this._selectable.getValue(),this._detangled=L(),this._selectable.onChange(this._detangled(()=>{this.dispatchEvent(new Event("input",{bubbles:!1,cancelable:!0})),this.dispatchEvent(new Event("change",{bubbles:!1,cancelable:!0}))})),u(e,"role","switch"),this.hasAttribute("name")){let i=this.getAttribute("name"),s=document.createElement("input");s.type="hidden",s.name=i,s.value=this._selectable.getState(),this.appendChild(s),this._selectable.onChange(()=>{s.value=this._selectable.getState()})}this._disableable.onInitAndChange(i=>{i?y(e,"tabindex","0"):u(e,"tabindex","0")}),b(e,"click",this._disableable.disabled(i=>{i.preventDefault(),i.stopPropagation()}),{capture:!0}),b(e,"click",this._disableable.enabled(i=>{this._selectable.press()})),b(e,"keydown",this._disableable.enabled(i=>{i.key==="Enter"&&(this._selectable.press(),i.preventDefault(),i.stopPropagation())})),b(e,"keydown",this._disableable.enabled(i=>{i.key===" "&&(i.preventDefault(),i.stopPropagation())})),b(e,"keyup",this._disableable.enabled(i=>{i.key===" "&&(this._selectable.press(),i.preventDefault(),i.stopPropagation())})),Io(e)}get checked(){return this._selectable.isSelected()}set checked(e){this._detangled(()=>{e?this._selectable.select():this._selectable.deselect()})()}};function Io(t){t.closest("label")?.addEventListener("click",e=>{t.contains(e.target)||t.click()})}E(({css:t})=>t`ui-switch { display: inline-block; user-select: none; }`);w("switch",ni);var ri=class t extends A{mount(){this.control=this.fieldWalker().find(e=>this.isControl(e)),this.control&&!(this.control instanceof I)&&this.hasAttribute("disabled")&&this.control.setAttribute("disabled","")}associateLabel(e){b(e,"click",i=>{["a","button"].includes(i.target.localName)||this.focusOrTogggle(this.control)}),u(this.elOrButton(this.control),"aria-labelledby",e.id)}associateDescription(e){u(this.elOrButton(this.control),"aria-describedby",e.id)}fieldWalker(){return R(this,(e,{skip:i,reject:s})=>{if(e instanceof t&&e!==this)return s()})}isControl(e){return!!(e instanceof I||e.matches("input, textarea, select"))}focusOrTogggle(e){if(!e||e.disabled||e.hasAttribute("disabled"))return;e.localName==="input"&&["checkbox","radio"].includes(e.type)||["ui-switch","ui-radio","ui-checkbox"].includes(e.localName)?(e.click(),e.focus()):e.localName==="input"&&["file"].includes(e.type)?e.click():["ui-select"].includes(e.localName)?e.trigger().focus():e.focus()}elOrButton(e){return e instanceof A&&e.firstElementChild instanceof HTMLButtonElement?e.firstElementChild:e}},li=class extends A{mount(){O(this,"label"),u(this,"aria-hidden","true"),this.closest("ui-field")?.associateLabel(this)}},ai=class extends A{mount(){O(this,"description"),u(this,"aria-hidden","true"),this.closest("ui-field")?.associateDescription(this)}};E(({css:t})=>t`
    ui-label { display: inline-block; cursor: default; user-select: none; }
    ui-description { display: block; }
`);w("field",ri);w("label",li);w("description",ai);var vt=class extends P{boot({options:e}){e({clickOutside:!0}),this.onChanges=[],this.state=!1,new MutationObserver(s=>{s.forEach(o=>{o.attributeName==="open"&&(this.el.hasAttribute("open")?this.state=!0:this.state=!1)}),this.onChanges.forEach(o=>o())}).observe(this.el,{attributeFilter:["open"]}),this.options().clickOutside&&this.el.addEventListener("click",s=>{s.target===this.el&&No(this.el,s)&&(this.hide(),s.preventDefault(),s.stopPropagation())}),this.el.hasAttribute("open")&&(this.state=!0,this.hide(),this.show())}onChange(e){this.onChanges.push(e)}show(){this.el.showModal()}hide(){this.el.close()}getState(){return this.state}setState(e){e?this.show():this.hide()}};function No(t,e){let i=t.getBoundingClientRect(),s=e.clientX,o=e.clientY;return!(s>=i.left&&s<=i.right&&o>=i.top&&o<=i.bottom)}var ci=class extends A{boot(){this._controllable=new M(this,{disabled:this.hasAttribute("disabled")});let e=this.button(),i=this.dialog();if(!i)return;i._dialogable=new vt(i,{clickOutside:!this.hasAttribute("disable-click-outside")}),this._controllable.initial(n=>n&&i._dialogable.show()),this._controllable.getter(()=>i._dialogable.getState());let s=L();this._controllable.setter(s(n=>{i._dialogable.setState(n)})),i._dialogable.onChange(s(()=>{this._controllable.dispatch()}));let o=()=>{i._dialogable.getState()?(u(this,"data-open",""),e?.setAttribute("data-open",""),u(i,"data-open","")):(y(this,"data-open"),e?.removeAttribute("data-open"),y(i,"data-open"))};i._dialogable.onChange(()=>o()),o(),e&&b(e,"click",n=>{i._dialogable.show()})}button(){let e=this.querySelector("button");if(!this.dialog()?.contains(e))return e}dialog(){return this.querySelector("dialog")}showModal(){let e=this.dialog();e&&e.showModal()}},ui=class extends A{mount(){let e=this.querySelector("button");b(e,"click",i=>{this.closest("ui-modal")?.dialog()._dialogable.hide()})}};w("modal",ci);w("close",ui);var hi=class extends A{mount(){u(this,"role","status"),document.addEventListener("keydown",e=>{e.key==="Escape"&&this.hideToast()})}showToast(e={}){let i=this.template().nextElementSibling;i&&i.destroyToast();let s=Number(e.duration===void 0?5e3:e.duration),o=e.slots||{},n=e.dataset||{},r=this.querySelector("template");if(!r)return console.warn("ui-toast: no template element found",this);let a=r.content.cloneNode(!0).firstElementChild;a.setAttribute("aria-atomic","true"),Object.entries(o).forEach(([f,h])=>{[null,void 0,!1].includes(h)||a.querySelectorAll(`slot[name="${f}"]`).forEach(p=>{p.replaceWith(document.createTextNode(h))})}),Object.entries(n).forEach(([f,h])=>{a.dataset[f]=h}),a.querySelectorAll("slot").forEach(f=>f.remove());let l=()=>{a.showPopover()},c=()=>{a._hiding=!0,a.hidePopover(),a.getAnimations().length?a.addEventListener("transitionend",()=>{a.remove()},{once:!0}):a.remove()};this.appendChild(a),l(),a.hideToast=c;let d=s!==0&&setTimeout(()=>{c()},s);a.destroyToast=()=>{d&&clearTimeout(d),a.remove()}}hideToast(){let e=this.template().nextElementSibling;e&&e.destroyToast()}template(){return this.querySelector("template")}};w("toast",hi);var di=class extends I{boot(){this._selectable=new W(this),this._controllable=new M(this,{disabled:this._disabled}),this._focusable=new ie(this,{wrap:!0}),this._controllable.initial(e=>e&&this._selectable.setState(e)),this._controllable.getter(()=>this._selectable.getState()),this._detangled=L(),this._controllable.setter(this._detangled(e=>{this._selectable.setState(e)})),this._selectable.onChange(this._detangled(()=>{this._controllable.dispatch()})),b(this,"keydown",e=>{["ArrowDown","ArrowRight"].includes(e.key)?(this._focusable.focusNext(),e.preventDefault(),e.stopPropagation()):["ArrowUp","ArrowLeft"].includes(e.key)&&(this._focusable.focusPrev(),e.preventDefault(),e.stopPropagation())}),u(this,"role","radiogroup")}},fi=class extends I{boot(){let e=this;this._disableable=new N(this),this._selectable=new k(e,{value:this.hasAttribute("value")?this.getAttribute("value"):Math.random().toString(36).substring(2,10),label:this.hasAttribute("label")?this.getAttribute("label"):null,selectedInitially:this.hasAttribute("checked"),dataAttr:"data-checked",ariaAttr:"aria-checked"}),this.value=this._selectable.getValue(),this._selectable.onChange(()=>{this._selectable.isSelected()&&this._focusable.focus(!1)}),this._disableable.onChange(i=>{i?this._focusable.untabbable():this._selectable.isSelected()&&this._focusable.tabbable()}),u(e,"role","radio"),this._focusable=new D(e,{disableable:this._disableable,tabbableAttr:"data-active"}),b(e,"click",this._disableable.disabled(i=>{i.preventDefault(),i.stopPropagation()}),{capture:!0}),b(e,"click",this._disableable.enabled(i=>{this._selectable.press()})),b(e,"keydown",this._disableable.enabled(i=>{i.key==="Enter"&&(this._selectable.press(),i.preventDefault(),i.stopPropagation())})),b(e,"keydown",this._disableable.enabled(i=>{i.key===" "&&(i.preventDefault(),i.stopPropagation())})),b(e,"keyup",this._disableable.enabled(i=>{i.key===" "&&(this._selectable.press(),i.preventDefault(),i.stopPropagation())})),Ho(e),b(e,"focus",i=>{Fe()&&this._selectable.select()})}get checked(){return this._selectable.isSelected()}set checked(e){(this.closest("ui-radio-group")?._detangled||(()=>{}))(()=>{e&&this._selectable.select()})()}};function Ho(t){t.closest("label")?.addEventListener("click",e=>{t.contains(e.target)||t.click()})}E(({css:t})=>t`ui-radio-group { display: block; }`);E(({css:t})=>t`ui-radio { display: inline-block; user-select: none; }`);w("radio-group",di);w("radio",fi);var pi=class t extends A{boot(){if(this._focusable=new ie(this,{wrap:!1,ensureTabbable:!1}),b(this,"keydown",e=>{["ArrowDown"].includes(e.key)?(e.target===this?this._focusable.focusFirst():this._focusable.focusNext(),e.preventDefault(),e.stopPropagation()):["ArrowUp"].includes(e.key)&&(e.target===this?this._focusable.focusFirst():this._focusable.focusPrev(),e.preventDefault(),e.stopPropagation())}),ji(this,e=>this._focusable.focusBySearch(e)),this.hasAttribute("popover")&&this.addEventListener("lofi-close-popovers",()=>{setTimeout(()=>this.hidePopover(),50)}),this.parentElement.localName==="ui-dropdown"){let e=this.parentElement;b(e.trigger(),"keydown",i=>{i.key==="ArrowDown"&&(this.fromArrowDown=!0,this.showPopover(),i.preventDefault(),i.stopPropagation())})}u(this,"role","menu"),u(this,"tabindex","-1")}mount(){this.initializeMenuItems(),new MutationObserver(i=>{this.initializeMenuItems()}).observe(this,{childList:!0,subtree:!0})}onPopoverShow(){queueMicrotask(()=>{this.fromArrowDown?(this._focusable.focusFirst(),this.fromArrowDown=!1):this.focus()})}onPopoverHide(){this._focusable.wipeTabbables()}initializeMenuItems(){this.walker().each(e=>{e._disableable||Wo(e)})}walker(){return R(this,(e,{skip:i,reject:s})=>{if(e instanceof t||e instanceof Ye)return s();if(!["a","button"].includes(e.localName))return i()})}},bi=class extends A{boot(){}},mi=class extends A{boot(){this._disabled=this.hasAttribute("disabled"),this._disableable=new N(this);let e=this;this._disabled&&(u(e,"disabled",""),u(e,"aria-disabled","true"));let i=O(e,"menu-checkbox");if(u(e,"role","menuitemcheckbox"),this._disabled)return;e._focusable=new D(e,{disableable:this._disableable,hover:!0,tabbableAttr:"data-active"}),e._selectable=new k(e,{toggleable:!0,value:this.hasAttribute("value")?this.getAttribute("value"):e.textContent.trim(),label:this.hasAttribute("label")?this.getAttribute("label"):e.textContent.trim(),dataAttr:"data-checked",ariaAttr:"aria-checked",selectedInitially:this.hasAttribute("checked")}),this._controllable=new M(this),this._controllable.initial(o=>o&&e._selectable.setState(o)),this._controllable.getter(()=>e._selectable.getState());let s=L();this._controllable.setter(s(o=>{this._selectable.setState(o)})),this._selectable.onChange(s(()=>{this._controllable.dispatch()})),b(e,"click",()=>{this.dispatchEvent(new CustomEvent("lofi-close-popovers",{bubbles:!0})),e._selectable.press()}),yi(e)}},gi=class extends A{boot(){this._disabled=this.hasAttribute("disabled"),this._disableable=new N(this);let e=this;this._disabled&&(u(e,"disabled",""),u(e,"aria-disabled","true"));let i=O(e,"menu-radio");u(e,"role","menuitemradio"),!this._disabled&&(e._focusable=new D(e,{disableable:this._disableable,hover:!0,tabbableAttr:"data-active"}),e._selectable=new k(e,{toggleable:!1,value:this.hasAttribute("value")?this.getAttribute("value"):e.textContent.trim(),label:this.hasAttribute("label")?this.getAttribute("label"):e.textContent.trim(),dataAttr:"data-checked",ariaAttr:"aria-checked",selectedInitially:this.hasAttribute("checked")}),b(e,"click",()=>{this.dispatchEvent(new CustomEvent("lofi-close-popovers",{bubbles:!0})),e._selectable.press()}),yi(e))}},vi=class extends A{boot(){this._selectable=new W(this),this._controllable=new M(this),u(this,"role","group"),this._controllable.initial(i=>i&&this._selectable.setState(i)),this._controllable.getter(()=>this._selectable.getState());let e=L();this._controllable.setter(e(i=>{this._selectable.setState(i)})),this._selectable.onChange(e(()=>{this._controllable.dispatch()}))}},wi=class extends A{boot(){this._selectable=new W(this,{multiple:!0}),this._controllable=new M(this),u(this,"role","group"),this._controllable.initial(i=>i&&this._selectable.setState(i)),this._controllable.getter(()=>this._selectable.getState());let e=L();this._controllable.setter(e(i=>{this._selectable.setState(i)})),this._selectable.onChange(e(()=>{this._controllable.dispatch()}))}};E(({css:t})=>t`ui-menu[popover]:popover-open { display: block; }`);E(({css:t})=>t`ui-menu[popover].\:popover-open { display: block; }`);E(({css:t})=>t`ui-menu-checkbox, ui-menu-radio { cursor: default; display: contents; }`);w("menu",pi);w("submenu",bi);w("menu-checkbox",mi);w("menu-radio",gi);w("menu-radio-group",vi);w("menu-checkbox-group",wi);function yi(t){b(t,"keydown",e=>{e.key==="Enter"&&(t.click(),e.preventDefault(),e.stopPropagation())}),b(t,"keydown",e=>{e.key===" "&&(e.preventDefault(),e.stopPropagation())}),b(t,"keyup",e=>{e.key===" "&&(t.click(),e.preventDefault(),e.stopPropagation())})}function Wo(t){t._disableable=new N(t),t._disabled=t.hasAttribute("disabled");let e=t.querySelector("a"),i=t,s=t.parentElement.matches("ui-submenu")&&t.parentElement.querySelector("ui-menu[popover]"),o=e||i;t._disabled&&(u(o,"disabled",""),u(o,"aria-disabled","true"));let n=O(o,"menu-item");if(u(o,"role","menuitem"),!t._disabled)if(o._focusable=new D(o,{disableable:t._disableable,hover:!0,tabbableAttr:"data-active"}),!s)t.hasAttribute("disabled")||b(t,"click",()=>{t.dispatchEvent(new CustomEvent("lofi-close-popovers",{bubbles:!0}))}),yi(i);else{s._popoverable=new q(s,{trigger:i}),s._anchorable=new V(s,{reference:i,position:s.hasAttribute("position")?s.getAttribute("position"):"right start",gap:s.hasAttribute("gap")?s.getAttribute("gap"):"-5"}),i.addEventListener("click",a=>{s._popoverable.setState(!0)});let{clear:r}=_e(i,s,{gain(){s._popoverable.setState(!0)},lose(){s._popoverable.setState(!1)},focusable:!1});s._popoverable.onChange(()=>{s._popoverable.getState()||(r(),s._focusable.wipeTabbables()),s._anchorable.reposition()}),b(i,"keydown",a=>{a.key==="Enter"&&(s._popoverable.setState(!0),setTimeout(()=>s._focusable.focusFirst()))}),b(i,"keydown",a=>{a.key==="ArrowRight"&&(s._popoverable.setState(!0),setTimeout(()=>s._focusable.focusFirst()))}),b(s,"keydown",a=>{a.key==="ArrowLeft"&&(s._popoverable.setState(!1),i.focus(),a.stopPropagation())})}}var wt=class t extends A{boot(){this._disabled=this.hasAttribute("disabled")}mount(){this.walkPanels(e=>Bo(e))}showPanel(e){this.walkPanels(i=>{i.getAttribute("name")===e?i.show():i.hide()})}getPanel(e){return this.walkPanels((i,s)=>{i.getAttribute("name")===e&&s(i)})}walkPanels(e){let i=!1,s;for(let o of this.children)if(!(o instanceof t)&&!(o instanceof yt)&&(e(o,n=>{i=!0,s=n}),i))break;return s}},yt=class t extends I{boot(){this._focusable=new ie(this,{wrap:!0}),this._selectableGroup=new W(this),this._controllable=new M(this,{disabled:this._disabled}),this._controllable.initial(i=>i&&this._selectableGroup.setState(i)),this._controllable.getter(()=>this._selectableGroup.getState());let e=L();this._controllable.setter(e(i=>{this._selectableGroup.setState(i)})),this._selectableGroup.onChange(e(()=>{this._controllable.dispatch()})),b(this,"keydown",i=>{["ArrowDown","ArrowRight"].includes(i.key)?(this._focusable.focusNext(),i.preventDefault(),i.stopPropagation()):["ArrowUp","ArrowLeft"].includes(i.key)&&(this._focusable.focusPrev(),i.preventDefault(),i.stopPropagation())}),u(this,"role","tablist")}mount(){this.initializeTabs(),this._focusable.ensureTabbable(),this._selectableGroup.getState()||this._selectableGroup.selectFirst()}initializeTabs(){this.walker().each(e=>{e._disableable||qo(e)})}walker(){return R(this,(e,{skip:i,reject:s})=>{if(e instanceof wt||e instanceof t)return s();if(!["a","button"].includes(e.localName))return i()})}};function qo(t){t._disableable=new N(t),t._disabled=t.hasAttribute("disabled");let e=t.matches("a")?t:null,i=e||t;t._disabled&&(u(i,"disabled",""),u(i,"aria-disabled","true"));let s=O(i,"tab");if(u(i,"role","tab"),!t._disabled&&(i._focusable=new D(i,{disableable:t._disableable,tabbableAttr:"data-active"}),!e)){let o=t.getAttribute("name");t._selectable=new k(t,{value:o||Math.random().toString(36).substring(2,10),label:t.hasAttribute("label")?t.getAttribute("label"):t.textContent.trim(),selectedInitially:t.hasAttribute("selected"),toggleable:!1}),b(t,"click",()=>t._selectable.press()),t._selectable.onChange(()=>{let n=t.closest("ui-tab-group")?.getPanel(o);t._selectable.getState()?n?.show():n?.hide(),t._selectable.getState()&&t._focusable.focus(!1)}),t.closest("ui-tab-group")?.hasAttribute("manual")||b(t,"focus",()=>t._selectable.select()),queueMicrotask(()=>{let n=t.closest("ui-tab-group");if(!n)return;let r=n.getPanel(o);if(!r)throw new Error("Could not find panel...");u(t,"aria-controls",r.id),u(r,"aria-labelledby",t.id)})}}function Bo(t){O(t,"tab-panel"),u(t,"role","tabpanel"),t.hasAttribute("tabindex")||u(t,"tabindex","-1"),t.show=()=>{u(t,"data-selected",""),u(t,"tabindex","0")},t.hide=()=>{y(t,"data-selected"),u(t,"tabindex","-1")}}E(({css:t})=>t`ui-tab-group, ui-tabs { display: block; cursor: default; }`);w("tab-group",wt);w("tabs",yt);!qi()&&!Bi()&&Vi();})();
